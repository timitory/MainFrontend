(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[3105],{3105:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return q}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mt-6"},[i("div",{staticClass:"lg:w-3/4 lg:mx-auto"},[i("p",{staticClass:"font-bold text-lg"},[e._v("Quotation Form")]),1==e.vehicle_category_id?i("p",{staticClass:"mt-2"},[e._v("Third party Vehicle Cover")]):2==e.vehicle_category_id?i("p",{staticClass:"mt-2"},[e._v("Comprehensive Vehicle Cover")]):3==e.vehicle_category_id?i("p",{staticClass:"mt-2"},[e._v("Prime Vehicle Cover")]):e._e(),i("hr",{staticClass:"mt-4"}),1===e.underwriterId?i("ChiForm",{on:{updateComprehensive:e.buyComprehensive,updateThirdParty:e.buyThirdParty,updatePrime:e.buyPrime}}):2===e.underwriterId?i("AIICOForm",{on:{updateComprehensive:e.buyComprehensive,updateThirdParty:e.buyThirdParty}}):e._e()],1)])},s=[],l=(i(4114),i(2505)),n=i.n(l),r=i(3717),o=i(5353),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"mt-6",on:{submit:function(t){return t.preventDefault(),e.validateForm.apply(null,arguments)}}},[i("p",{staticClass:"text-green-500"},[e._v("Vehicle Cover")]),i("div",{staticClass:"mt-4 lg:flex"},[i("div",{staticClass:"lg:w-3/4 lg:mr-3"},[i("div",{staticClass:"lg:flex"},[i("div",{staticClass:"lg:w-full lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Vehicle Make")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.vehicle,expression:"vehicle"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.vehicle=t.target.multiple?i:i[0]}}},e._l(e.data.vehicle_make,(function(t){return i("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])})),0),0===Object.keys(e.vehicle).length?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("E.g Toyota")]):e._e()])]),i("div",{staticClass:"lg:w-full lg:mr-3 lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Vehicle Model")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.vehicle_model_id,expression:"vehicle_model_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.vehicle_model_id=t.target.multiple?i:i[0]}}},e._l(e.models,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.vehicle_model_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Model")]):e._e()])]),i("div",{staticClass:"lg:w-full lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Vehicle Type")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.vehicle_class_id,expression:"vehicle_class_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.vehicle_class_id=t.target.multiple?i:i[0]}}},e._l(e.data.vehicle_class,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.vehicle_class_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Type")]):e._e()])])]),i("div",{staticClass:"mt-4 lg:flex"},[i("div",{staticClass:"lg:w-full lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Plate Number")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.plate_number,expression:"plate_number"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.plate_number},on:{input:function(t){t.target.composing||(e.plate_number=t.target.value)}}})]),i("div",{staticClass:"lg:w-full lg:ml-3 lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Driver's License no")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_license_number,expression:"driver_license_number"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.driver_license_number},on:{input:function(t){t.target.composing||(e.driver_license_number=t.target.value)}}})]),i("div",{staticClass:"lg:w-full lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Color of Vehicle")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.vehicle_color,expression:"vehicle_color"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:e.vehicle_color},on:{input:function(t){t.target.composing||(e.vehicle_color=t.target.value)}}})])]),i("div",{staticClass:"mt-4 lg:flex"},[i("div",{staticClass:"lg:w-full lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("BVN")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.bvn,expression:"bvn"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.bvn},on:{input:function(t){t.target.composing||(e.bvn=t.target.value)}}}),e.error.bvn?i("p",{staticClass:"text-red-500 text-sm"},[e._v("Please enter a valid BVN")]):e._e()]),i("div",{staticClass:"lg:w-full lg:ml-3 lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Engine no")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.engine_no,expression:"engine_no"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.engine_no},on:{input:function(t){t.target.composing||(e.engine_no=t.target.value)}}})]),i("div",{staticClass:"lg:w-full lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Year of make")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}})])])]),i("div",{staticClass:"lg:w-1/4 lg:ml-3 mt-4 lg:mt-0"},[i("div",[i("label",{staticClass:"text-sm font-bold"},[e._v("Vehicle Usage")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.vehicle_usage_id,expression:"vehicle_usage_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.vehicle_usage_id=t.target.multiple?i:i[0]}}},e._l(e.data.vehicle_usage,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.vehicle_usage_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Type")]):e._e()])]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Car Value (in Naira)")]),i("money",e._b({staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},model:{value:e.vehicle_value,callback:function(t){e.vehicle_value=t},expression:"vehicle_value"}},"money",e.money,!1)),e.error.value?i("p",{staticClass:"text-red-500 text-sm"},[e._v("Please enter a valid amount")]):e._e()],1),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Chasis Number")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.chasis_no,expression:"chasis_no"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:e.chasis_no},on:{input:function(t){t.target.composing||(e.chasis_no=t.target.value)}}})])])]),i("div",{staticClass:"pt-6"},[i("hr"),i("div",{staticClass:"mt-6"},[i("div",{staticClass:"mt-8 lg:flex justify-between"},[i("div",{staticClass:"mr-3"},[i("div",{staticClass:"lg:flex"},[i("div",{staticClass:"lg:w-full lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("First Name")]),i("div",{staticClass:"input rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"},[i("p",[e._v(e._s(e.beneficiary.firstname))])])]),i("div",{staticClass:"lg:w-full lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Last Name")]),i("div",{staticClass:"input rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"},[e._v(" "+e._s(e.beneficiary.lastname)+" ")])])]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Email address")]),i("div",{staticClass:"input rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"},[e._v(" "+e._s(e.beneficiary.email)+" ")])]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Phone number")]),i("div",{staticClass:"input rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"},[e._v(" "+e._s(e.beneficiary.phone)+" ")])]),i("div",{staticClass:"mt-4"},[e._m(0),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.gender_id,expression:"gender_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.gender_id=t.target.multiple?i:i[0]}}},e._l(e.data.gender,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.gender_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Gender")]):e._e()])]),i("div",{staticClass:"mt-4"},[i("div",[i("label",{staticClass:"text-sm font-bold"},[e._v("Means of ID")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.idmeans_id,expression:"idmeans_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.idmeans_id=t.target.multiple?i:i[0]}}},e._l(e.data.idmeans,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.idmeans_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select means of Identification")]):e._e()])]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("ID Number")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.id_number,expression:"id_number"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:e.id_number},on:{input:function(t){t.target.composing||(e.id_number=t.target.value)}}})])]),i("div",{staticClass:"mt-4"},[e._m(1),i("div",{},[i("div",{staticClass:"lg:w-full mt-2"},[i("label",{staticClass:"py-2 px-4 text-white rounded-full cursor-pointer bg-green-100 text-green-500 font-semibold hover:bg-green-200",attrs:{for:"idImage"}},[e._v("Choose File")]),i("p",{staticClass:"inline ml-3"},[e._v(e._s(e.idImageName))]),i("input",{ref:"idImage",staticClass:"fileinput hidden",attrs:{id:"idImage",type:"file"},on:{change:e.idUpload}})]),e.error.idImage?i("p",{staticClass:"text-red-500 text-sm mt-2"},[e._v("Please upload a valid image file")]):e._e()])])]),i("div",{staticClass:"lg:ml-3"},[i("div",{staticClass:"mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Date of birth")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.date_of_birth,expression:"date_of_birth"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",required:""},domProps:{value:e.date_of_birth},on:{input:function(t){t.target.composing||(e.date_of_birth=t.target.value)}}})]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Enter occupation")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.occupation,expression:"occupation"}],staticClass:"block mt-4 rounded bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:e.occupation},on:{input:function(t){t.target.composing||(e.occupation=t.target.value)}}})]),i("div",{staticClass:"lg:flex mt-4"},[i("div",{staticClass:"lg:w-full lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("State of residence")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.state=t.target.multiple?i:i[0]}}},e._l(e.data.states,(function(t){return i("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])})),0),0===Object.keys(e.state).length?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select State")]):e._e()])]),i("div",{staticClass:"lg:w-full lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("LGA")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.lga_id,expression:"lga_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.lga_id=t.target.multiple?i:i[0]}}},e._l(e.stateModels,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.lga_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select LGA")]):e._e()])])]),i("div",{staticClass:"mt-4"},[e._m(2),i("div",{},[i("div",{staticClass:"lg:w-full mt-2"},[i("label",{staticClass:"py-2 px-4 text-white rounded-full cursor-pointer bg-green-100 text-green-500 font-semibold hover:bg-green-200",attrs:{for:"regImage"}},[e._v("Choose File")]),i("p",{staticClass:"inline ml-3"},[e._v(e._s(e.regImageName))]),i("input",{ref:"regImage",staticClass:"hidden fileinput",attrs:{id:"regImage",type:"file"},on:{change:e.regUpload}})]),e.error.regImage?i("p",{staticClass:"text-red-500 text-sm mt-2"},[e._v("Please upload a valid image file")]):e._e()])]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("State of vehicle Regristration")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.reg_state_id,expression:"reg_state_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.reg_state_id=t.target.multiple?i:i[0]}}},e._l(e.data.states,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.reg_state_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select State")]):e._e()])]),i("div",{staticClass:"mt-4"},[e._m(3),i("div",{staticClass:"relative"},[1!==e.vehicle_category_id?i("span",[i("select",{directives:[{name:"model",rawName:"v-model",value:e.payment_frequency_id,expression:"payment_frequency_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.payment_frequency_id=t.target.multiple?i:i[0]}}},e._l(e.data.payment_frequency,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.payment_frequency_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Payment Frequency")]):e._e()]):i("span",[i("select",{directives:[{name:"model",rawName:"v-model",value:e.payment_frequency_id,expression:"payment_frequency_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.payment_frequency_id=t.target.multiple?i:i[0]}}},[i("option",{domProps:{value:e.data.payment_frequency[2].id}},[e._v(e._s(e.data.payment_frequency[2].name))])]),""==e.payment_frequency_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Payment Frequency")]):e._e()])])]),1!==e.vehicle_category_id?i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Do you want flood cover?(extra charges apply)")]),i("label",{staticClass:"container mt-4"},[e._v("Yes "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.flood_cover,expression:"flood_cover"}],attrs:{type:"radio"},domProps:{value:1,checked:e._q(e.flood_cover,1)},on:{change:function(t){e.flood_cover=1}}}),i("span",{staticClass:"checkmark"})]),i("label",{staticClass:"container"},[e._v("No "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.flood_cover,expression:"flood_cover"}],attrs:{type:"radio"},domProps:{value:0,checked:e._q(e.flood_cover,0)},on:{change:function(t){e.flood_cover=0}}}),i("span",{staticClass:"checkmark"})])]):e._e()])])])]),i("div",{staticClass:"hidden lg:flex justify-between mt-10"},[i("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[i("router-link",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left px-12 mt-12 block text-center",attrs:{to:"/app/dashboard/buyvehicle/2"}},[i("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),e._v(" Back ")],1)],1),i("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none"},[e._v(" Get Quote "),i("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1)]),i("div",{staticClass:"block lg:hidden mt-10"},[i("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none"},[e._v(" Get Quote "),i("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1),i("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[i("router-link",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left px-12 mt-12 block text-center",attrs:{to:"/app/dashboard/buyvehicle/2"}},[i("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),e._v(" Back ")],1)],1)])])},u=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"text-sm font-bold"},[e._v("Gender"),i("span",{staticClass:"text-red-500"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"text-sm font-bold"},[e._v("Upload Valid ID (Driver’s licence, Permanent Voter’s Card, Intl Passport "),i("span",{staticClass:"text-red-500"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"text-sm font-bold"},[e._v("Upload vehicle picture showing the plate number of the Vehicle "),i("span",{staticClass:"text-red-500"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"text-sm font-bold"},[e._v("Payment Frequency"),i("span",{staticClass:"text-red-500"},[e._v("*")])])}],d=i(5458),v={components:{Money:d.Money},data(){return{money:{thousands:",",prefix:"₦ ",precision:0,masked:!1},vehicle:{},vehicle_make_id:"",vehicle_model_id:"",vehicle_class_id:"",vehicle_usage_id:"",driver_license_number:"",vehicle_color:"",vehicle_value:0,date_of_birth:"",occupation:"",occupationUpdate:"",bvn:"",engine_no:"",year:"",chasis_no:"",gender_id:"",payment_frequency_id:"",state_id:"",reg_state_id:"",lga_id:"",models:[],state:{},stateModels:[],flood_cover:0,idmeans_id:"",id_number:"",idImage:"",idImageName:"",regImageName:"",regImage:"",plate_number:"",error:{regImage:!1,idImage:!1,value:!1,bvn:!1}}},methods:{idUpload(){this.idImageName=this.$refs.idImage.files[0].name,this.error.idImage=!1;let e=this.$refs.idImage.files[0],t=new FileReader,i=this;t.onload=function(e){i.idImage=e.target.result},t.readAsDataURL(e)},regUpload(){this.regImageName=this.$refs.regImage.files[0].name,this.error.regImage=!1;let e=this.$refs.regImage.files[0],t=new FileReader,i=this;t.onload=function(e){i.regImage=e.target.result},t.readAsDataURL(e)},validateForm(){if(""!=this.regImageName)if(""!=this.idImageName){if(!Object.values(this.error).includes(!0)){this.$store.commit("setPaymentFrequencyId",this.payment_frequency_id);const e={underwriter_id:this.underwriterId,user_vehicle_id:this.userVehicleId,enrollee_id:this.beneficiary.user_id,address:this.beneficiary.address,vehicle_make_id:this.vehicle_make_id,vehicle_model_id:this.vehicle_model_id,vehicle_class_id:this.vehicle_class_id,vehicle_usage_id:this.vehicle_usage_id,vehicle_category_id:this.vehicle_category_id,driver_license_number:this.driver_license_number,vehicle_color:this.vehicle_color,vehicle_value:100*parseInt(this.vehicle_value),occupation:this.occupation,date_of_birth:this.date_of_birth,state_id:this.state_id,lga_id:this.lga_id,gender_id:this.gender_id,idmeans_id:this.idmeans_id,id_number:this.id_number,flood_cover:parseInt(this.flood_cover),excess_buyback:1,validid_image:this.idImage,regno_image:this.regImage,bvn:this.bvn,engine_no:this.engine_no,chasis_no:this.chasis_no,year:this.year,reg_state_id:this.reg_state_id,plate_number:this.plate_number,payment_frequency_id:this.payment_frequency_id};1==e.vehicle_category_id?(this.$store.commit("saveVehicleInfo",e),this.$emit("updateThirdParty",e)):2==e.vehicle_category_id?(this.$store.commit("saveVehicleInfo",e),this.$emit("updateComprehensive",e)):3==e.vehicle_category_id&&(this.$store.commit("saveVehicleInfo",e),this.$emit("updatePrime",e))}}else this.error.idImage=!0;else this.error.regImage=!0},getResources(){this.$store.commit("startLoading"),n().get(`${r.A}/vehicle/resources`).then((e=>{this.$store.commit("setChiVehicleResources",e.data.data),this.$store.commit("endLoading")})).catch((e=>{this.$store.dispatch("handleError",e)}))}},watch:{vehicle(){this.vehicle.id&&(this.vehicle_make_id=this.vehicle.id,this.models=this.vehicle.models,console.log(this.models))},vehicle_make_id(){this.vehicle_model_id=""},state(){this.state.id&&(this.state_id=this.state.id,console.log(this.state_id),console.log(this.state.models),this.stateModels=this.state.models)},state_id(){this.lga_id=""},vehicle_value(){/^\d*$/.test(this.vehicle_value)?this.error.value=!1:this.error.value=!0},bvn(){/^\d{11}$/.test(this.bvn)?this.error.bvn=!1:this.error.bvn=!0}},computed:{...(0,o.aH)({vehicle_category_id:e=>e.vehicle_category_id,beneficiary:e=>e.beneficiary,underwriterId:e=>e.underwriter_id,data:e=>e.vehicle.chiResources,vehicledata:e=>e.vehicleInfo,userVehicleId:e=>e.vehicleQuote.user_vehicle_id})},mounted(){0==Object.keys(this.data).length&&this.getResources(),this.occupation=this.vehicledata.occupation,this.reg_state_id=this.vehicledata.reg_state_id,this.state=this.vehicledata.state_id,this.lga_id=this.vehicledata.lga_id,this.payment_frequency_id=this.vehicledata.payment_frequency_id,this.date_of_birth=this.vehicledata.date_of_birth,this.id_number=this.vehicledata.id_number,this.plate_number=this.vehicledata.plate_number,this.chasis_no=this.vehicledata.chasis_no,this.driver_license_number=this.vehicledata.driver_license_number,this.vehicle_color=this.vehicledata.vehicle_color,this.bvn=this.vehicledata.bvn,this.engine_no=this.vehicledata.engine_no,this.year=this.vehicledata.year,this.vehicle=this.vehicledata.vehicle_make_id,this.vehicle_class_id=this.vehicledata.vehicle_class_id,this.gender_id=this.vehicledata.gender_id,this.idmeans_id=this.vehicledata.idmeans_id,this.vehicle_value=this.vehicledata.vehicle_value/100,this.vehicle_usage_id=this.vehicledata.vehicle_usage_id,console.log(this.userVehicleId)}},m=v,_=i(1656),p=(0,_.A)(m,c,u,!1,null,"763fcd5e",null),f=p.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"mt-6",on:{submit:function(t){return t.preventDefault(),e.validateForm.apply(null,arguments)}}},[i("p",{staticClass:"text-green-500"},[e._v("Vehicle Cover")]),i("div",{staticClass:"mt-4 lg:flex"},[i("div",{staticClass:"lg:w-3/4 lg:mr-3"},[i("div",{staticClass:"lg:flex"},[i("div",{staticClass:"lg:w-full lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Vehicle Make")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.vehicle,expression:"vehicle"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.vehicle=t.target.multiple?i:i[0]}}},e._l(e.data.vehicle_make,(function(t){return i("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])})),0),0===Object.keys(e.vehicle).length?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("E.g Toyota")]):e._e()])]),i("div",{staticClass:"lg:w-full lg:mr-3 lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Vehicle Model")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.vehicle_model_id,expression:"vehicle_model_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.vehicle_model_id=t.target.multiple?i:i[0]}}},e._l(e.models,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.vehicle_model_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Model")]):e._e()])]),i("div",{staticClass:"lg:w-full lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Vehicle Type")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.vehicle_class_id,expression:"vehicle_class_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.vehicle_class_id=t.target.multiple?i:i[0]}}},e._l(e.data.vehicle_class,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.vehicle_class_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Type")]):e._e()])])]),i("div",{staticClass:"mt-4 lg:flex"},[i("div",{staticClass:"lg:w-full lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Plate Number")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.plate_number,expression:"plate_number"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.plate_number},on:{input:function(t){t.target.composing||(e.plate_number=t.target.value)}}})]),i("div",{staticClass:"lg:w-full lg:ml-3 lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Driver's License no")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_license_number,expression:"driver_license_number"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.driver_license_number},on:{input:function(t){t.target.composing||(e.driver_license_number=t.target.value)}}})]),i("div",{staticClass:"lg:w-full lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Color of Vehicle")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.color_id,expression:"color_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.color_id=t.target.multiple?i:i[0]}}},e._l(e.data.color,(function(t,a){return i("option",{key:a,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.color_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("E.g Red")]):e._e()])])]),i("div",{staticClass:"mt-4 lg:flex"},[i("div",{staticClass:"lg:w-full lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("BVN")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.bvn,expression:"bvn"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.bvn},on:{input:function(t){t.target.composing||(e.bvn=t.target.value)}}}),e.error.bvn?i("p",{staticClass:"text-red-500 text-sm"},[e._v("Please enter a valid BVN")]):e._e()]),i("div",{staticClass:"lg:w-full lg:ml-3 lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Engine no")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.engine_no,expression:"engine_no"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.engine_no},on:{input:function(t){t.target.composing||(e.engine_no=t.target.value)}}})]),i("div",{staticClass:"lg:w-full lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Year of make")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.year_id,expression:"year_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.year_id=t.target.multiple?i:i[0]}}},e._l(e.data.year,(function(t,a){return i("option",{key:a,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.year_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("E.g 2013")]):e._e()])])])]),i("div",{staticClass:"lg:w-1/4 lg:ml-3 mt-4 lg:mt-0"},[i("div",[i("label",{staticClass:"text-sm font-bold"},[e._v("Vehicle Usage")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.vehicle_usage_id,expression:"vehicle_usage_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.vehicle_usage_id=t.target.multiple?i:i[0]}}},e._l(e.data.vehicle_usage,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.vehicle_usage_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Type")]):e._e()])]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Car Value (in Naira)")]),i("money",e._b({staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},model:{value:e.vehicle_value,callback:function(t){e.vehicle_value=t},expression:"vehicle_value"}},"money",e.money,!1)),e.error.value?i("p",{staticClass:"text-red-500 text-sm"},[e._v("Please enter a valid amount")]):e._e()],1),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Chasis Number")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.chasis_no,expression:"chasis_no"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:e.chasis_no},on:{input:function(t){t.target.composing||(e.chasis_no=t.target.value)}}})])])]),i("div",{staticClass:"pt-6"},[i("hr"),i("div",{staticClass:"mt-6"},[i("div",{staticClass:"mt-8 lg:flex justify-between"},[i("div",{staticClass:"mr-3"},[i("div",{staticClass:"lg:flex"},[i("div",{staticClass:"lg:w-full lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("First Name")]),i("div",{staticClass:"input rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"},[i("p",[e._v(e._s(e.beneficiary.firstname))])])]),i("div",{staticClass:"lg:w-full lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Last Name")]),i("div",{staticClass:"input rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"},[e._v(" "+e._s(e.beneficiary.lastname)+" ")])])]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Email address")]),i("div",{staticClass:"input rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"},[e._v(" "+e._s(e.beneficiary.email)+" ")])]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Phone number")]),i("div",{staticClass:"input rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"},[e._v(" "+e._s(e.beneficiary.phone)+" ")])]),i("div",{staticClass:"mt-4"},[e._m(0),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.gender_id,expression:"gender_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.gender_id=t.target.multiple?i:i[0]}}},e._l(e.data.gender,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.gender_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Gender")]):e._e()])]),i("div",{staticClass:"mt-4"},[i("div",[i("label",{staticClass:"text-sm font-bold"},[e._v("Means of ID")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.idmeans_id,expression:"idmeans_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.idmeans_id=t.target.multiple?i:i[0]}}},e._l(e.data.id_means,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.idmeans_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select means of Identification")]):e._e()])]),i("div",{staticClass:"mt-4 "},[i("label",{staticClass:"text-sm font-bold"},[e._v("ID Number")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.id_number,expression:"id_number"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:e.id_number},on:{input:function(t){t.target.composing||(e.id_number=t.target.value)}}})])]),i("div",{staticClass:"mt-4"},[e._m(1),i("div",{},[i("div",{staticClass:"lg:w-full mt-2"},[i("label",{staticClass:"py-2 px-4 text-white rounded-full cursor-pointer bg-green-100 text-green-500 font-semibold hover:bg-green-200",attrs:{for:"idImage"}},[e._v("Choose File")]),i("p",{staticClass:"inline ml-3"},[e._v(e._s(e.idImageName))]),i("input",{ref:"idImage",staticClass:"fileinput hidden",attrs:{id:"idImage",type:"file"},on:{change:e.idUpload}})]),e.error.idImage?i("p",{staticClass:"text-red-500 text-sm mt-2"},[e._v("Please upload a valid image file")]):e._e()])])]),i("div",{staticClass:"lg:ml-3"},[i("div",{staticClass:"mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Date of birth")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.date_of_birth,expression:"date_of_birth"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",required:""},domProps:{value:e.date_of_birth},on:{input:function(t){t.target.composing||(e.date_of_birth=t.target.value)}}})]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Enter occupation")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.occupation,expression:"occupation"}],staticClass:"block mt-4 rounded bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:e.occupation},on:{input:function(t){t.target.composing||(e.occupation=t.target.value)}}})]),i("div",{staticClass:"lg:flex mt-4"},[i("div",{staticClass:"lg:w-full lg:mr-3"},[i("label",{staticClass:"text-sm font-bold"},[e._v("State of residence")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.state=t.target.multiple?i:i[0]}}},e._l(e.data.states,(function(t){return i("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])})),0),0===Object.keys(e.state).length?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select State")]):e._e()])]),i("div",{staticClass:"lg:w-full lg:ml-3 mt-4 lg:mt-0"},[i("label",{staticClass:"text-sm font-bold"},[e._v("LGA")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.lga_id,expression:"lga_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.lga_id=t.target.multiple?i:i[0]}}},e._l(e.stateModels,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.lga_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select LGA")]):e._e()])])]),i("div",{staticClass:"mt-4"},[e._m(2),i("div",{},[i("div",{staticClass:"lg:w-full mt-2"},[i("label",{staticClass:"py-2 px-4 text-white rounded-full cursor-pointer bg-green-100 text-green-500 font-semibold hover:bg-green-200",attrs:{for:"regImage"}},[e._v("Choose File")]),i("p",{staticClass:"inline ml-3"},[e._v(e._s(e.regImageName))]),i("input",{ref:"regImage",staticClass:"hidden fileinput",attrs:{id:"regImage",type:"file"},on:{change:e.regUpload}})]),e.error.regImage?i("p",{staticClass:"text-red-500 text-sm mt-2"},[e._v("Please upload a valid image file")]):e._e()])]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("State of vehicle Regristration")]),i("div",{staticClass:"relative"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.reg_state_id,expression:"reg_state_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.reg_state_id=t.target.multiple?i:i[0]}}},e._l(e.data.states,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.reg_state_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select State")]):e._e()])]),i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("License Issue Date")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_license_issue_date,expression:"driver_license_issue_date"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",required:""},domProps:{value:e.driver_license_issue_date},on:{input:function(t){t.target.composing||(e.driver_license_issue_date=t.target.value)}}})]),i("div",{staticClass:"mt-4"},[e._m(3),i("div",{staticClass:"relative"},[1!==e.vehicle_category_id?i("span",[i("select",{directives:[{name:"model",rawName:"v-model",value:e.payment_frequency_id,expression:"payment_frequency_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.payment_frequency_id=t.target.multiple?i:i[0]}}},e._l(e.data.payment_frequency,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),""==e.payment_frequency_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Payment Frequency")]):e._e()]):i("span",[i("select",{directives:[{name:"model",rawName:"v-model",value:e.payment_frequency_id,expression:"payment_frequency_id"}],staticClass:"block rounded mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.payment_frequency_id=t.target.multiple?i:i[0]}}},[i("option",{domProps:{value:e.data.payment_frequency[2].id}},[e._v(e._s(e.data.payment_frequency[2].name))])]),""==e.payment_frequency_id?i("p",{staticClass:"absolute text-gray-500",staticStyle:{top:"8px",left:"8px"}},[e._v("Select Payment Frequency")]):e._e()])])]),1!==e.vehicle_category_id?i("div",{staticClass:"mt-4"},[i("label",{staticClass:"text-sm font-bold"},[e._v("Do you want flood cover?(extra charges apply)")]),i("label",{staticClass:"container mt-4"},[e._v("Yes "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.flood_cover,expression:"flood_cover"}],attrs:{type:"radio"},domProps:{value:1,checked:e._q(e.flood_cover,1)},on:{change:function(t){e.flood_cover=1}}}),i("span",{staticClass:"checkmark"})]),i("label",{staticClass:"container"},[e._v("No "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.flood_cover,expression:"flood_cover"}],attrs:{type:"radio"},domProps:{value:0,checked:e._q(e.flood_cover,0)},on:{change:function(t){e.flood_cover=0}}}),i("span",{staticClass:"checkmark"})])]):e._e()])])])]),i("div",{staticClass:"hidden lg:flex justify-between mt-10"},[i("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[i("router-link",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left px-12 mt-12 block text-center",attrs:{to:"/app/dashboard/buyvehicle/2"}},[i("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),e._v(" Back ")],1)],1),i("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none"},[e._v(" Get Quote "),i("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1)]),i("div",{staticClass:"block lg:hidden mt-10"},[i("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none"},[e._v(" Get Quote "),i("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1),i("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[i("router-link",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left px-12 mt-12 block text-center",attrs:{to:"/app/dashboard/buyvehicle/2"}},[i("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),e._v(" Back ")],1)],1)])])},h=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"text-sm font-bold"},[e._v("Gender"),i("span",{staticClass:"text-red-500"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"text-sm font-bold"},[e._v("Upload Valid ID (Driver’s licence, Permanent Voter’s Card, Intl Passport "),i("span",{staticClass:"text-red-500"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"text-sm font-bold"},[e._v("Upload vehicle picture showing the plate number of the Vehicle "),i("span",{staticClass:"text-red-500"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"text-sm font-bold"},[e._v("Payment Frequency"),i("span",{staticClass:"text-red-500"},[e._v("*")])])}],b={components:{Money:d.Money},data(){return{money:{thousands:",",prefix:"₦ ",precision:0,masked:!1},vehicle:{},vehicle_make_id:"",vehicle_model_id:"",vehicle_class_id:"",vehicle_usage_id:"",driver_license_issue_date:"",driver_license_number:"",payment_frequency_id:"",color_id:"",vehicle_value:0,date_of_birth:"",occupation:"",bvn:"",engine_no:"",year_id:"",chasis_no:"",gender_id:"",state_id:"",reg_state_id:"",lga_id:"",models:[],state:{},stateModels:[],flood_cover:0,idmeans_id:"",id_number:"",idImage:"",idImageName:"",regImageName:"",regImage:"",plate_number:"",error:{regImage:!1,idImage:!1,value:!1,bvn:!1}}},methods:{idUpload(){this.idImageName=this.$refs.idImage.files[0].name,this.error.idImage=!1;let e=this.$refs.idImage.files[0],t=new FileReader,i=this;t.onload=function(e){i.idImage=e.target.result},t.readAsDataURL(e)},regUpload(){this.regImageName=this.$refs.regImage.files[0].name,this.error.regImage=!1;let e=this.$refs.regImage.files[0],t=new FileReader,i=this;t.onload=function(e){i.regImage=e.target.result},t.readAsDataURL(e)},validateForm(){if(""!=this.regImageName)if(""!=this.idImageName){if(!Object.values(this.error).includes(!0)){this.$store.commit("setPaymentFrequencyId",this.payment_frequency_id);const e={underwriter_id:this.underwriterId,user_vehicle_id:this.userVehicleId,enrollee_id:this.beneficiary.user_id,address:this.beneficiary.address,vehicle_make_id:this.vehicle_make_id,vehicle_model_id:this.vehicle_model_id,vehicle_class_id:this.vehicle_class_id,vehicle_usage_id:this.vehicle_usage_id,vehicle_category_id:this.vehicle_category_id,driver_license_number:this.driver_license_number,color_id:this.color_id,vehicle_value:100*parseInt(this.vehicle_value),occupation:this.occupation,date_of_birth:this.date_of_birth,state_id:this.state_id,lga_id:this.lga_id,gender_id:this.gender_id,idmeans_id:this.idmeans_id,id_number:this.id_number,flood_cover:parseInt(this.flood_cover),excess_buyback:1,validid_image:this.idImage,regno_image:this.regImage,bvn:this.bvn,engine_no:this.engine_no,chasis_no:this.chasis_no,year_id:this.year_id,reg_state_id:this.reg_state_id,plate_number:this.plate_number,driver_license_issue_date:this.driver_license_issue_date,payment_frequency_id:this.payment_frequency_id};1==e.vehicle_category_id?(this.$store.commit("saveVehicleInfo",e),this.$emit("updateThirdParty",e)):(this.$store.commit("saveVehicleInfo",e),this.$emit("updateComprehensive",e))}}else this.error.idImage=!0;else this.error.regImage=!0},getResources(){this.$store.commit("startLoading"),n().get(`${r.A}/vehicle/resources/aiico`).then((e=>{this.$store.commit("setAiccoVehicleResources",e.data.data),this.$store.commit("endLoading")})).catch((e=>{this.$store.dispatch("handleError",e)}))}},watch:{vehicle(){this.vehicle.id&&(this.vehicle_make_id=this.vehicle.id,this.models=this.vehicle.models)},vehicle_make_id(){this.vehicle_model_id=""},state(){this.state.id&&(this.state_id=this.state.id,this.stateModels=this.state.models)},state_id(){this.lga_id=""},vehicle_value(){/^\d*$/.test(this.vehicle_value)?this.error.value=!1:this.error.value=!0},bvn(){/^\d{11}$/.test(this.bvn)?this.error.bvn=!1:this.error.bvn=!0}},computed:{...(0,o.aH)({vehicle_category_id:e=>e.vehicle_category_id,beneficiary:e=>e.beneficiary,underwriterId:e=>e.underwriter_id,data:e=>e.vehicle.aiicoResources,vehicledata:e=>e.vehicleInfo,userVehicleId:e=>e.vehicleQuote.user_vehicle_id})},mounted(){0==Object.keys(this.data).length&&this.getResources(),this.occupation=this.vehicledata.occupation,this.reg_state_id=this.vehicledata.reg_state_id,this.state=this.vehicledata.state_id,this.lga_id=this.vehicledata.lga_id,this.payment_frequency_id=this.vehicledata.payment_frequency_id,this.date_of_birth=this.vehicledata.date_of_birth,this.id_number=this.vehicledata.id_number,this.color_id=this.vehicledata.color_id,this.year_id=this.vehicledata.year_id,this.driver_license_issue_date=this.vehicledata.driver_license_issue_date,this.plate_number=this.vehicledata.plate_number,this.chasis_no=this.vehicledata.chasis_no,this.driver_license_number=this.vehicledata.driver_license_number,this.vehicle_color=this.vehicledata.vehicle_color,this.bvn=this.vehicledata.bvn,this.engine_no=this.vehicledata.engine_no,this.year=this.vehicledata.year,this.vehicle=this.vehicledata.vehicle_make_id,this.vehicle_class_id=this.vehicledata.vehicle_class_id,this.gender_id=this.vehicledata.gender_id,this.idmeans_id=this.vehicledata.idmeans_id,this.vehicle_value=this.vehicledata.vehicle_value/100,this.vehicle_usage_id=this.vehicledata.vehicle_usage_id,console.log(this.userVehicleId)}},y=b,x=(0,_.A)(y,g,h,!1,null,"695fa12e",null),C=x.exports,w={components:{ChiForm:f,AIICOForm:C},data(){return{}},methods:{buyThirdParty(e){this.$store.commit("startLoading"),n()({url:`${r.A}/vehicle/thirdparty/update`,data:e,method:"PATCH"}).then((e=>{this.$store.commit("endLoading"),this.$store.commit("saveQuote",e.data.data),this.$router.push("/app/dashboard/buyvehicle/4")})).catch((e=>{this.$store.dispatch("handleError",e)}))},buyComprehensive(e){this.$store.commit("startLoading"),n()({url:`${r.A}/vehicle/comprehensive/update`,data:e,method:"PATCH"}).then((e=>{this.$store.commit("endLoading"),this.$store.commit("saveQuote",e.data.data),console.log(e.data.data),this.$router.push("/app/dashboard/buyvehicle/4")})).catch((e=>{this.$store.dispatch("handleError",e)}))},buyPrime(e){this.$store.commit("startLoading"),n()({url:`${r.A}/vehicle/chiprime/update`,data:e,method:"POST"}).then((e=>{this.$store.commit("endLoading"),this.$store.commit("saveQuote",e.data.data),this.$router.push("/app/dashboard/buyvehicle/4")})).catch((e=>{this.$store.dispatch("handleError",e)}))}},computed:{...(0,o.aH)({vehicle_category_id:e=>e.vehicle_category_id,beneficiary:e=>e.beneficiary,underwriterId:e=>e.underwriter_id,userVehicleId:e=>e.vehicleQuote.user_vehicle_id})},mounted(){}},k=w,I=(0,_.A)(k,a,s,!1,null,"715dc94b",null),q=I.exports},5458:function(e){(function(t,i){e.exports=i()})(0,(function(){return function(e){function t(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=9)}([function(e,t,i){"use strict";t.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(e,t,i){"use strict";var a=i(2),s=i(5),l=i(0);t.a=function(e,t){if(t.value){var n=i.i(s.a)(l.a,t.value);if("INPUT"!==e.tagName.toLocaleUpperCase()){var r=e.getElementsByTagName("input");1!==r.length||(e=r[0])}e.oninput=function(){var t=e.value.length-e.selectionEnd;e.value=i.i(a.a)(e.value,n),t=Math.max(t,n.suffix.length),t=e.value.length-t,t=Math.max(t,n.prefix.length+1),i.i(a.b)(e,t),e.dispatchEvent(i.i(a.c)("change"))},e.onfocus=function(){i.i(a.b)(e,e.value.length-n.suffix.length)},e.oninput(),e.dispatchEvent(i.i(a.c)("input"))}}},function(e,t,i){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.a;"number"==typeof e&&(e=e.toFixed(n(t.precision)));var i=e.indexOf("-")>=0?"-":"",a=l(e),s=o(a,t.precision),r=d(s).split("."),v=r[0],m=r[1];return v=c(v,t.thousands),t.prefix+i+u(v,m,t.decimal)+t.suffix}function s(e,t){var i=e.indexOf("-")>=0?-1:1,a=l(e),s=o(a,t);return parseFloat(s)*i}function l(e){return d(e).replace(/\D+/g,"")||"0"}function n(e){return r(0,e,20)}function r(e,t,i){return Math.max(e,Math.min(t,i))}function o(e,t){var i=Math.pow(10,t);return(parseFloat(e)/i).toFixed(n(t))}function c(e,t){return e.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+t)}function u(e,t,i){return t?e+i+t:e}function d(e){return e?e.toString():""}function v(e,t){var i=function(){e.setSelectionRange(t,t)};e===document.activeElement&&(i(),setTimeout(i,1))}function m(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var _=i(0);i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"b",(function(){return v})),i.d(t,"c",(function(){return m}))},function(e,t,i){"use strict";function a(e,t){t&&Object.keys(t).map((function(e){r.a[e]=t[e]})),e.directive("money",n.a),e.component("money",l.a)}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),l=i.n(s),n=i(1),r=i(0);i.d(t,"Money",(function(){return l.a})),i.d(t,"VMoney",(function(){return n.a})),i.d(t,"options",(function(){return r.a})),i.d(t,"VERSION",(function(){return o}));var o="0.8.1";t.default=a,"undefined"!=typeof window&&window.Vue&&window.Vue.use(a)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=i(0),l=i(2);t.default={name:"Money",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return s.a.precision}},decimal:{type:String,default:function(){return s.a.decimal}},thousands:{type:String,default:function(){return s.a.thousands}},prefix:{type:String,default:function(){return s.a.prefix}},suffix:{type:String,default:function(){return s.a.suffix}}},directives:{money:a.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(e,t){var a=i.i(l.a)(e,this.$props);a!==this.formattedValue&&(this.formattedValue=a)}}},methods:{change:function(e){this.$emit("input",this.masked?e.target.value:i.i(l.d)(e.target.value,this.precision))}}}},function(e,t,i){"use strict";t.a=function(e,t){return e=e||{},t=t||{},Object.keys(e).concat(Object.keys(t)).reduce((function(i,a){return i[a]=void 0===t[a]?e[a]:t[a],i}),{})}},function(e,t,i){var a=i(7)(i(4),i(8),null,null);e.exports=a.exports},function(e,t){e.exports=function(e,t,i,a){var s,l=e=e||{},n=typeof e.default;"object"!==n&&"function"!==n||(s=e,l=e.default);var r="function"==typeof l?l.options:l;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),i&&(r._scopeId=i),a){var o=r.computed||(r.computed={});Object.keys(a).forEach((function(e){var t=a[e];o[e]=function(){return t}}))}return{esModule:s,exports:l,options:r}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"money",rawName:"v-money",value:{precision:e.precision,decimal:e.decimal,thousands:e.thousands,prefix:e.prefix,suffix:e.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-money",attrs:{type:"tel"},domProps:{value:e.formattedValue},on:{change:e.change}})},staticRenderFns:[]}},function(e,t,i){e.exports=i(3)}])}))}}]);
//# sourceMappingURL=3105.23eeb0b9.js.map