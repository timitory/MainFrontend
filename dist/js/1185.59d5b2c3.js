(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[1185],{968:function(t,e,a){"use strict";a.d(e,{A:function(){return d}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-modal"},[a("div",{staticClass:"loading-modal w-full"},[a("div",{staticClass:"loader bg-white w-4/5 mx-auto rounded px-4 lg:px-8 pb-6"},[a("div",{staticClass:"pt-6 relative"},[a("div",{staticClass:"py-4"},[a("h1",{staticClass:"font-bold text-xl text-center"},[t._v("Pay with existing card or use a new card?")]),a("div",{staticClass:"mt-8 md:flex md:w-3/4 md:mx-auto md:items-center gap-6",staticStyle:{"min-width":"300px"}},[a("button",{staticClass:"focus:outline-none block w-full rounded border border-solid border-green-500 text-green-500 text-white md:px-3 py-2",on:{click:t.useOldCard}},[t._v("Use added card")]),a("button",{staticClass:"mt-4 md:mt-0 block w-full focus:outline-none rounded border border-solid border-blue-500 text-blue-500 text-white md:px-3 py-2",on:{click:t.useNewCard}},[t._v("Use new card")])])])])])])])},s=[],n={data(){return{}},methods:{close(){this.$emit("close")},useOldCard(){this.$emit("useCard","old")},useNewCard(){this.$emit("useCard","new")}}},o=n,r=a(1656),l=(0,r.A)(o,i,s,!1,null,"f717a648",null),d=l.exports},1845:function(t,e,a){"use strict";a.d(e,{A:function(){return h}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-modal"},[a("div",{staticClass:"loading-modal w-full"},[a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"loader bg-white w-4/5 mx-auto rounded px-4 lg:px-8 pb-6"},[a("div",{staticClass:"pt-6"},[a("hr"),a("div",{staticClass:"mt-6"},[a("div",{staticClass:"relative"},[a("font-awesome-icon",{staticClass:"cursor-pointer text-red-500 text-base lg:text-xl absolute right-2 top-0",attrs:{icon:"times-circle"},on:{click:function(e){return t.$emit("close")}}}),a("p",{staticClass:"mb-4"},[t._v("Update "+t._s(t.enrollee.surname)+" "+t._s(t.enrollee.firstname)+"'s data")]),a("form",{staticClass:"px-4 py-6 mt-6 lg:py-10",staticStyle:{"min-height":"30vh"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("div",{staticClass:"lg:w-full mb-6"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Choose State of Origin")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.state_of_origin_id,expression:"state_of_origin_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.state_of_origin_id=e.target.multiple?a:a[0]}}},t._l(t.states,(function(e,i){return a("option",{key:i,domProps:{value:e.StateID}},[t._v(t._s(e.Name))])})),0)])]),a("div",{staticClass:"lg:w-full mb-6"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Choose Lga of Origin")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.lga_origin_id,expression:"lga_origin_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lga_origin_id=e.target.multiple?a:a[0]}}},t._l(t.lgaOrigin,(function(e,i){return a("option",{key:i,domProps:{value:e.LgaID}},[t._v(t._s(e.Name))])})),0)])]),a("div",{staticClass:"lg:w-full mb-6"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Choose State of Residence")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.state_of_residence_id,expression:"state_of_residence_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.state_of_residence_id=e.target.multiple?a:a[0]}}},t._l(t.states,(function(e,i){return a("option",{key:i,domProps:{value:e.StateID}},[t._v(t._s(e.Name))])})),0)])]),a("div",{staticClass:"lg:w-full mb-6"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Choose Lga of Residence")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.lga_id,expression:"lga_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lga_id=e.target.multiple?a:a[0]}}},t._l(t.lgas,(function(e,i){return a("option",{key:i,domProps:{value:e.LgaID}},[t._v(t._s(e.Name))])})),0)])]),a("div",{staticClass:"lg:w-full mb-6"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Choose preferred hospital")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hospital_id,expression:"hospital_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hospital_id=e.target.multiple?a:a[0]}}},t._l(t.hospitals,(function(e,i){return a("option",{key:i,domProps:{value:e.ID}},[t._v(t._s(e.HospitalName))])})),0)])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[t._v("Date of Birth")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date_of_birth,expression:"date_of_birth"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"date",id:"dob",placeholder:"",required:""},domProps:{value:t.date_of_birth},on:{input:function(e){e.target.composing||(t.date_of_birth=e.target.value)}}})]),a("div",{staticClass:"mt-4"},[t._m(0),a("div",{},[a("div",{staticClass:"lg:w-full mt-2 flex gap-2 items-end"},[a("label",{staticClass:"py-2 px-4 text-white rounded-full cursor-pointer bg-green-100 text-green-500 font-semibold hover:bg-green-200",attrs:{for:"regImage"}},[t._v("Choose File")]),a("p",{},[t._v(t._s(t.filename))]),a("input",{ref:"imagefile",staticClass:"hidden fileinput",attrs:{id:"regImage",type:"file"},on:{change:t.upload}})]),t.fileError?a("p",{staticClass:"text-red-500 text-sm mt-2"},[t._v("Please upload a valid image file")]):t._e()])]),a("button",{staticClass:"mt-4 bg-green-500 text-white block w-full focus:outline-none px-4 py-2 rounded",class:[t.fileError||""===t.hospital_id?"opacity-30":""],attrs:{disabled:t.fileError||""===t.hospital_id}},[t._v("Submit")])])],1)])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-sm font-bold"},[t._v("Upload your passport photograph "),a("span",{staticClass:"text-red-500"},[t._v("*")])])}],n=a(9499),o=a(2505),r=a.n(o),l=a(430),d=a(5353),c={mixins:[n.co],props:{enrollee:{required:!0}},computed:{...(0,d.aH)({underwriterId:t=>t.underwriter_id,healthPlan:t=>t.health.plan})},data(){return{hospital_id:"",hospitals:[],filename:"",imagefile:"",fileError:!0,states:[],lga_of_origin:"",lga_of_residence:"",state_of_residence_id:"",state_of_origin_id:"",lga_origin_id:"",date_of_birth:"",lga_id:"",lgas:[],lgaOrigin:[]}},methods:{close(){this.$emit("close")},upload(){switch(console.log(this.$refs.imagefile.files[0].type),this.filename=this.$refs.imagefile.files[0].name,this.imagefile=this.$refs.imagefile.files[0],this.$refs.imagefile.files[0].type){case"image/jpeg":this.fileError=!1;break;case"image/png":this.fileError=!1;break;default:this.fileError=!0}},getHospitals(){r().get(`${l.A}/health/hospitals/${this.enrollee.plan.id}?sid=${this.enrollee.state_of_residence_id}`).then((t=>{this.hospitals=t.data.data})).catch((t=>{this.$store.dispatch("handleError",t)}))},getChiHMOStates(){r().get(`${l.A}/hmo/states`).then((t=>{this.states=t.data.data})).catch((t=>{this.$store.dispatch("handleError",t)}))},submit(){this.$store.commit("startLoading");let t=this.date_of_birth.split("-"),e=`${t[2]}/${t[1]}/${t[0]}`;console.log(e);let a=new FormData;a.append("passport",this.imagefile),a.append("underwriter_id",this.underwriterId),a.append("hospital_id",this.hospital_id),a.append("state_of_residence_id",this.state_of_residence_id),a.append("state_of_origin_id",this.state_of_origin_id),a.append("lga_origin_id",this.lga_origin_id),a.append("lga_id",this.lga_id),a.append("dob",e),a.append("user_hmo_id",this.enrollee.user_health_id),r().patch(`${l.A}/hmo/policy/passport`,a,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{console.log(t.data.data),this.$store.commit("endLoading"),this.$emit("refresh"),this.$emit("close")})).catch((t=>{this.$store.dispatch("handleError",t)}))},getHospital(t,e,a){console.log(this.date_of_birth),r()({url:`${l.A}/hmo/hospitals`,data:{PlanID:t,StateId:e,LgaId:a},method:"POST"}).then((t=>{console.log(t.data.data),console.log(t.data.data.hospitals),this.hospitals=t.data.data.hospitals,this.payment_frequency=t.data.data.payment_frequency})).catch((t=>{console.log(t),this.$store.dispatch("handleError",t)}))},getLga(t){console.log(t),r()({url:`${l.A}/hmo/lga`,data:{state_id:t},method:"POST"}).then((t=>{this.lgas=t.data.data})).catch((t=>{console.log(t),this.$store.dispatch("handleError",t)}))},getLgaOrigin(t){console.log(t),r()({url:`${l.A}/hmo/lga`,data:{state_id:t},method:"POST"}).then((t=>{this.lgaOrigin=t.data.data})).catch((t=>{console.log(t),this.$store.dispatch("handleError",t)}))}},watch:{state_of_residence_id(){this.state_of_residence_id&&this.getLga(this.state_of_residence_id.toString())},state_of_origin_id(){this.state_of_origin_id&&this.getLgaOrigin(this.state_of_origin_id.toString())},lga_id(){this.lga_id&&this.getHospital(this.health_plan.toString(),this.state_of_residence_id.toString(),this.lga_id.toString())}},mounted(){this.getHospitals(),this.getChiHMOStates(),this.health_plan=this.healthPlan.PlanId}},u=c,p=a(1656),f=(0,p.A)(u,i,s,!1,null,"21f5875f",null),h=f.exports},9401:function(t){!function(e,a){t.exports=a()}(window,(function(){return a={},t.m=e=[function(t,e,a){"use strict";a.r(e);var i,s,n,o,r,l,d,c,u,p,f;o=!(n=[]),d=l=r=null,f="function"==typeof(i={props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,required:!0},email:{type:String,required:!0},firstname:{type:String,default:""},lastname:{type:String,default:""},amount:{type:Number,required:!0},reference:{type:String,required:!0},channels:{type:Array,default:function(){return["card","bank"]}},accessCode:{type:String,default:""},callback:{type:Function,required:!0,default:function(){}},close:{type:Function,required:!0,default:function(){}},metadata:{type:Object,default:function(){return{}}},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:String,default:""},subaccount:{type:String,default:""},split:{type:Object,default:function(){return{}}},splitCode:{type:String,default:""},transactionCharge:{type:Number,default:0},bearer:{type:String,default:""}},data:function(){return{scriptLoaded:null}},created:function(){var t=this;this.scriptLoaded=new Promise((function(e){t.loadScript((function(){e()}))}))},mounted:function(){this.embed&&this.payWithPaystack()},methods:{loadScript:function(t){var e=document.createElement("script");e.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(e),e.readyState?e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onreadystatechange=null,t())}:e.onload=function(){t()}},isDynamicSplit:function(){return this.split.constructor===Object&&0<Object.keys(this.split).length},payWithPaystack:function(){var t=this;this.scriptLoaded&&this.scriptLoaded.then((function(){var e={key:t.paystackkey,email:t.email,firstname:t.firstname,lastname:t.lastname,channels:t.channels,amount:t.amount,access_code:t.accessCode,ref:t.reference,callback:function(e){t.callback(e)},onClose:function(){t.close()},metadata:t.metadata,currency:t.currency,plan:t.plan,quantity:t.quantity,subaccount:t.isDynamicSplit()?"":t.subaccount,split:t.isDynamicSplit()?t.split:null,split_code:t.isDynamicSplit()?"":t.splitCode,transaction_charge:t.isDynamicSplit()?0:t.transactionCharge,bearer:t.isDynamicSplit()?"":t.bearer};t.embed&&(e.container="paystackEmbedContainer"),e=window.PaystackPop.setup(e),t.embed||e.openIframe()}))}}})?i.options:i,(s=function(){var t=this,e=t._self._c||t.$createElement;return t.embed?e("div",{attrs:{id:"paystackEmbedContainer"}}):e("button",{staticClass:"payButton",on:{click:t.payWithPaystack}},[t._t("default",[t._v("Make Payment")])],2)})&&(f.render=s,f.staticRenderFns=n,f._compiled=!0),o&&(f.functional=!0),l&&(f._scopeId="data-v-"+l),d?f._ssrRegister=u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(d)}:r&&(u=c?function(){r.call(this,(f.functional?this.parent:this).$root.$options.shadowRoot)}:r),u&&(f.functional?(f._injectStyles=u,p=f.render,f.render=function(t,e){return u.call(e),p(t,e)}):f.beforeCreate=(c=f.beforeCreate)?[].concat(c,u):[u]),a={exports:i,options:f};e.default=a.exports}],t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:i})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var s in e)t.d(i,s,function(t){return e[t]}.bind(null,s));return i},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="/dist/",t(t.s=0);function t(i){if(a[i])return a[i].exports;var s=a[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var e,a}))},9190:function(t,e,a){"use strict";t.exports=a.p+"img/Page-1.75b8f912.svg"}}]);
//# sourceMappingURL=1185.59d5b2c3.js.map