"use strict";(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[3728],{3728:function(t,e,s){s.r(e),s.d(e,{default:function(){return w}});var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mt-8 px-6 pt-6 lg:px-20 pb-20 relative shadow-lg bg-white",staticStyle:{"box-shadow":"0px 20px 33px #00000029"}},[a("router-link",{staticClass:"absolute left-4 top-2",attrs:{to:"/app/dashboard"}},[a("font-awesome-icon",{staticClass:"text-green-600 ",attrs:{icon:"times-circle"}})],1),t._m(0),a("div",{staticClass:"overflow-x-auto xl:overflow-x-hidden tablecont"},[t.claims.length>0?a("table",{staticClass:"w-full mt-8"},[t._m(1),a("tbody",t._l(t.claims,(function(e,s){return a("tr",{key:s,staticClass:"border border-solid border-gray-300"},[a("td",[t._v(t._s(s+1))]),e.user.firstname+" "+e.user.lastname===t.fullname?a("td",{staticClass:"p-3"},[t._v("Myself")]):t._e(),a("td",[t._v(t._s(e.policy_type))]),a("td",[t._v(t._s(e.metadata.policy_number))]),a("td",[t._v(t._s(e.timestamp))]),a("td",{staticClass:"font-semibold"},[t._v(t._s(e.underwriter.name))]),"Settled"==e.status?a("p",{staticClass:"text-sm text-green-500  p-1 rounded"},[t._v("Settled")]):"Accept"==e.underwriter_status?a("p",{staticClass:"text-sm text-green-500  p-1 rounded"},[t._v("Approved")]):"Decline"==e.underwriter_status?a("p",{staticClass:"text-sm text-red-500  p-1 rounded"},[t._v("Declined")]):"Accept"==e.status?a("p",{staticClass:"text-sm text-green-500  p-1 rounded"},[t._v("Accepted")]):"Pending"==e.status?a("p",{staticClass:"text-sm text-yellow-500  p-1 rounded"},[t._v(t._s(e.status))]):a("p",{staticClass:"text-sm text-red-500  p-1 rounded"},[t._v(t._s(e.status))]),a("td",[a("button",{staticClass:"text-green-500 underline text-sm outline-none focus:outline-none",on:{click:function(s){return t.viewUser(e)}}},[t._v("View")])]),a("td",[a("button",{staticClass:"text-green-500 underline text-sm outline-none focus:outline-none",on:{click:function(s){return t.viewUploadClaim(e)}}},[t._v("Upload Invoice")])])])})),0)]):a("div",{staticClass:"w-full text-center py-4"},[a("img",{staticClass:"block  mx-auto",attrs:{src:s(9190),alt:""}}),a("p",{staticClass:"mt-4 text-center font-bold text-green-500 font-lg"},[t._v("No records")])]),t.claims.length>0?a("nav",{staticClass:"mt-8",attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"w-1/2 mx-auto  flex justify-between",staticStyle:{"max-width":"250px"}},[a("li",{staticClass:"page-item"},[1!=t.page?a("button",{staticClass:"inline text-green-500",attrs:{type:"button"},on:{click:function(e){t.page--}}},[t._v(" Previous ")]):a("button",{staticClass:"inline text-green-500 opacity-20"},[t._v("Previous")])]),a("li",{staticClass:"page-item"},[t.page<t.pages.length?a("button",{staticClass:"inline text-green-500",attrs:{type:"button"},on:{click:function(e){t.page++}}},[t._v(" Next ")]):a("button",{staticClass:"inline text-green-500 opacity-20"},[t._v("Next")])])])]):t._e()])],1),t.showUser?a("User",{attrs:{policy:t.policy},on:{close:function(e){t.showUser=!1}}}):t._e(),t.showUploadInvoice?a("UploadInvoice",{attrs:{policy:t.policy},on:{close:function(e){t.showUploadInvoice=!1}}}):t._e()],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex mt-4 items-center"},[s("p",{staticClass:"text-lg lg:w-1/4 font-bold"},[t._v("Claim History")]),s("div",{staticClass:"ml-3 w-full lg:flex justify-between items-center"},[s("div",{staticClass:" lg:w-full"},[s("hr",{staticClass:"mt-2"}),s("hr",{staticClass:"mt-2"}),s("hr",{staticClass:"mt-2 border-green-500 bg-green-500 border-2"})])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"font-bold"},[t._v("S/N")]),s("th",{staticClass:"font-bold"},[t._v("Name")]),s("th",{staticClass:"font-bold"},[t._v("Policy Type")]),s("th",{staticClass:"font-bold"},[t._v("Policy Number")]),s("th",{staticClass:"font-bold"},[t._v("Claim Date")]),s("th",{staticClass:"font-bold"},[t._v("Underwriter")]),s("th",{staticClass:"font-bold"},[t._v("Status")]),s("th",{staticClass:"font-bold"},[t._v("View")]),s("td",{staticClass:"font-bold"},[t._v("Action")])])])}],l=(s(4114),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-modal"},[s("div",{staticClass:"loading-modal w-full px-4 md:px-0"},[s("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"loader bg-white w-full md:w-4/5 mx-auto rounded px-4 lg:px-8 lg:pb-6"},[s("div",{staticClass:"pt-6"},[s("div",{staticClass:"flex justify-between"},[t._m(0),s("font-awesome-icon",{staticClass:"cursor-pointer text-red-500 text-base lg:text-xl",attrs:{icon:"times-circle"},on:{click:function(e){return t.$emit("close")}}})],1),s("div",{staticClass:"mt-8"},[s("p",{staticClass:"font-bold"},[t._v("Policy Number")]),t.policy.metadata.policy_number?s("p",{staticClass:"mt-2 lg:mt-4 text-green-500 font-bold"},[t._v(t._s(t.policy.metadata.policy_number))]):s("p",{staticClass:"mt-2 lg:mt-4 text-green-500 font-bold"},[t._v("Null")])]),s("p",{staticClass:"font-bold mt-6 underline"},[t._v("Claim Details")]),s("ul",{staticClass:"mt-4"},[s("li",[s("p",[t._v("Accident Date")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.AccidentDate))])]),s("li",[s("p",[t._v("Accident Description: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.AccidentDescription))])]),s("li",[s("p",[t._v("Accident Place: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.AccidentPlace))])]),s("li",[s("p",[t._v("Accident Time: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.AccidentTime))])]),s("li",[s("p",[t._v("Accident Weather Condition: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.AccidentWeatherCondition))])]),s("li",[s("p",[t._v("Claim Notice: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.ClaimNotice))])]),s("li",[s("p",[t._v("Cost Of Repairs: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.CostOfRepairs))])]),s("li",[s("p",[t._v("Damaged Parts: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DamagedParts))])]),s("li",[s("p",[t._v("Driver Address: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverAddress))])]),s("li",[s("p",[t._v("Driver Age: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverAge))])]),s("li",[s("p",[t._v("Driver Date Of Expiry ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverDateOfExpiry))])]),s("li",[s("p",[t._v("Driver Employment: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverEmployment))])]),s("li",[s("p",[t._v("Driver Employment Capacity: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverEmploymentCapacity))])]),s("li",[s("p",[t._v("Driver Employment Length: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverEmploymentLength))])]),s("li",[s("p",[t._v("Driver License Number: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverLicenseNumber))])]),s("li",[s("p",[t._v("Driver Name: ")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverName))])])]),s("p",{staticClass:"font-bold underline"},[t._v("ThirdParty Info")]),s("ul",{staticClass:"mt-4"},[s("li",[s("p",[t._v("ThirdParty Address")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.ThirdPartyAddress))])]),s("li",[s("p",[t._v("ThirdParty Injury")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.ThirdPartyInjury))])]),s("li",[s("p",[t._v("ThirdParty Inspection Address")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.ThirdPartyInspectionAddress))])]),s("li",[s("p",[t._v("ThirdParty Make")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.ThirdPartyMake))])]),s("li",[s("p",[t._v("ThirdParty Name")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.ThirdPartyName))])]),s("li",[s("p",[t._v("ThirdParty Property")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.ThirdPartyProperty))])]),s("li",[s("p",[t._v("ThirdParty RegNo")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.ThirdPartyRegNo))])])]),s("p",{staticClass:"font-bold underline"},[t._v("Driver Info")]),s("ul",{staticClass:"mt-4"},[s("li",[s("p",[t._v("Driver Address")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverAddress))])]),s("li",[s("p",[t._v("Driver Age")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverAge))])]),s("li",[s("p",[t._v("Driver Date Of Expiry")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverDateOfExpiry))])]),s("li",[s("p",[t._v("Driver Employment")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverEmployment))])]),s("li",[s("p",[t._v("Driver Employment Capacity")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverEmploymentCapacity))])]),s("li",[s("p",[t._v("Driver Employment Length")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverEmploymentLength))])]),s("li",[s("p",[t._v("Driver License Number")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverLicenseNumber))])]),s("li",[s("p",[t._v("Driver Name")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverName))])]),s("li",[s("p",[t._v("Driver Previous Accident")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverPreviousAccident))])]),s("li",[s("p",[t._v("Driver Previous Accident Details")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverPreviousAccidentDetails))])]),s("li",[s("p",[t._v("Driver Prosecuted")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverProsecuted))])]),s("li",[s("p",[t._v("Driver Prosecuted Details")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverProsecutedDetails))])]),s("li",[s("p",[t._v("Driver Warning")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverWarning))])]),s("li",[s("p",[t._v("Driver Years Experience")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.DriverYearsExperience))])])]),s("p",{staticClass:"font-bold underline"},[t._v("Other Claim Info")]),s("ul",{staticClass:"mt-4"},[s("li",[s("p",[t._v("Headlamps")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.Headlamps))])]),s("li",[s("p",[t._v("Other Driver Warning")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.OtherDriverWarning))])]),s("li",[s("p",[t._v("Other Vehicle Insurance")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.OtherVehicleInsurance))])]),s("li",[s("p",[t._v("Police Action")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.PoliceAction))])]),s("li",[s("p",[t._v("Police Report")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.PoliceReport))])]),s("li",[s("p",[t._v("Police Report Officer Name")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.PoliceReportOfficerName))])]),s("li",[s("p",[t._v("Police Report Officer Number")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.PoliceReportOfficerNumber))])]),s("li",[s("p",[t._v("Police Report Station")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.PoliceReportStation))])]),s("li",[s("p",[t._v("Purpose Of Use At Accident")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.PurposeOfUseAtAccident))])]),s("li",[s("p",[t._v("Purpose Of Use At Accident Extra")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.PurposeOfUseAtAccidentExtra))])]),s("li",[s("p",[t._v("Repairer Address")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.RepairerAddress))])]),s("li",[s("p",[t._v("Repairer Name")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.RepairerName))])]),s("li",[s("p",[t._v("Repairer Phone")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.RepairerPhone))])]),s("li",[s("p",[t._v("Road Width")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.RoadWidth))])]),s("li",[s("p",[t._v("Vehicle Location")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.VehicleLocation))])]),s("li",[s("p",[t._v("Vehicle Speed")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.VehicleSpeed))])]),s("li",[s("p",[t._v("Victim Hospital")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.VictimHospital))])]),s("li",[s("p",[t._v("Victim Name")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.VictimName))])]),s("li",[s("p",[t._v("Witness Address")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.WitnessAddress))])]),s("li",[s("p",[t._v("Witness Name")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.WitnessName))])]),s("li",[s("p",[t._v("Plate Number")]),s("p",{staticClass:"mt-2 lg:mt-4 font-bold mb-6"},[t._v(t._s(t.policy.metadata.plate_number))])])])])])])])}),o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"text-sm mt-4 cursor-pointer font-bold text-lg"},[t._v(" Claim info ")])])}],r=s(9499),m={props:["policy"],data(){return{existing:""}},methods:{close(){this.$emit("close")}},directives:{onClickaway:r.u$},mounted(){console.log(this.policy)}},c=m,n=s(1656),p=(0,n.A)(c,l,o,!1,null,"2cbe07dd",null),d=p.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-modal"},[s("form",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"bg-white relative top-16 rounded mx-auto max-w-sm p-4",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[s("div",{staticClass:"grid gap-2"},[s("label",{attrs:{for:"text"}}),s("div",{staticClass:"mt-4"},[t._m(0),s("div",{staticClass:"mt-4 md:w-full"},[s("label",{staticClass:"p-2 text-white rounded cursor-pointer",staticStyle:{"background-color":"#102A49"},attrs:{for:"frontImage"}},[t._v("Choose File")]),s("p",{staticClass:"inline lg:block lg:ml-0 ml-3 lg:mt-1"},[t._v(t._s(t.ImageName))]),s("input",{ref:"frontImage",staticClass:"hidden fileinput",attrs:{id:"frontImage",type:"file"},on:{change:function(e){return t.ImageUpload()}}})]),t.error.image?s("p",{staticClass:"text-red-500 text-sm mt-2"},[t._v("Please upload a valid image file")]):t._e()])]),s("button",{staticClass:"focus:outline-none bg-green-500 text-white rounded p-2 mt-4 block w-full"},[t._v("Upload Invoice")])])])},_=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-sm font-bold"},[t._v("Invoice(png, jpg, pdf)"),s("span",{staticStyle:{color:"red"}},[t._v("*")])])}],b=s(2505),u=s.n(b),g=s(430),f={props:["policy"],components:{},data(){return{error:{image:!1},Image:"",ImageName:""}},methods:{close(){this.$emit("close")},ImageUpload(){this.ImageName=this.$refs.frontImage.files[0].name,this.error.image=!1;let t=this.$refs.frontImage.files[0],e=new FileReader,s=this;e.onload=function(t){s.Image=t.target.result},e.readAsDataURL(t)},submit(){""!=this.ImageName&&(this.ImageName.includes(".png")||this.ImageName.includes(".jpg")||this.ImageName.includes(".jpeg")||this.ImageName.includes(".pdf"))?(this.$store.commit("startLoading"),u()({url:`${g.A}/claim/vehicle/invoice`,data:{invoice_image:this.Image,claim_id:this.policy.id},method:"PATCH"}).then((()=>{this.$store.commit("endLoading"),this.$store.commit("setSuccess",{status:!0,msg:"Invoice sent"}),this.close()})).catch((t=>{this.$store.commit("endLoading"),this.$store.commit("setError",{status:!0,msg:t.response.data.message}),this.close()}))):this.error.image=!0}},directives:{onClickaway:r.u$}},C=f,y=(0,n.A)(C,v,_,!1,null,null,null),h=y.exports,x={components:{User:d,UploadInvoice:h},data(){return{claims:[],fullname:"",val:"",showFilter:!1,page:1,perPage:10,pages:[],policy:{},showUser:!1,showUploadInvoice:!1}},computed:{user(){return this.$store.state.user},filteredPayments(){return this.paginate(this.payments.filter((t=>t.policy.includes(this.val))))}},watch:{payments(){this.setPages()}},methods:{viewUser(t){this.policy=t,this.showUser=!0},viewUploadClaim(t){this.policy=t,this.showUploadInvoice=!0},filter(t){this.val=t,this.page=1,this.showFilter=!1},setPages(){let t=Math.ceil(this.payments.length/this.perPage);for(let e=1;e<=t;e++)this.pages.push(e)},paginate(t){let e=this.page,s=this.perPage,a=e*s-s,i=e*s;return t.slice(a,i)}},mounted(){this.fullname=`${this.user.firstname} ${this.user.lastname}`,this.$store.commit("startLoading"),u().get(`${g.A}/claims`).then((t=>{this.claims=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))}},D=x,P=(0,n.A)(D,a,i,!1,null,"53fd56a2",null),w=P.exports},9190:function(t,e,s){t.exports=s.p+"img/Page-1.75b8f912.svg"}}]);
//# sourceMappingURL=3728.d6c557b2.js.map