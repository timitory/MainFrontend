"use strict";(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[1411,9419],{9419:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"mt-8 px-6 pt-6 lg:px-20 pb-20 relative shadow-lg bg-white whitebox",staticStyle:{"box-shadow":"0px 20px 33px #00000029"}},[s("router-link",{staticClass:"absolute left-4 top-2",attrs:{to:"/gadget/managegadget"}},[s("font-awesome-icon",{staticClass:"text-green-600 ",attrs:{icon:"times-circle"}})],1),t._m(0),s("div",{staticClass:"overflow-x-auto lg:overflow-x-hidden tablecont"},[s("table",{staticClass:"w-full mt-8"},[t._m(1),s("tbody",t._l(t.enrollee.repayment,(function(e){return s("tr",{key:e.id,staticClass:"border border-solid border-gray-300"},[s("td",{staticClass:"p-3 text-green-600 font-bold"},[t._v(t._s(e.end))]),s("td",[t._v(t._s(e.amount))]),s("td",{class:["Paid"==e.status?"text-green-500":"text-yellow-500"]},[t._v(t._s(e.status))])])})),0)])]),s("div",{staticClass:"mt-24 "},[s("router-link",{staticClass:"text-green-500 block",attrs:{to:"/gadget/managegadget"}},[t._v("Back")])],1)],1),s("p",{staticClass:"mt-8 text-sm text-center"},[t._v("It’s important to note that you can purchase more than one policy and you can also add a dependent to any or multiple of these policies")])])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex mt-4 items-center"},[s("p",{staticClass:"text-lg lg:w-1/4 font-bold"},[t._v("Repayment Shedule")]),s("div",{staticClass:"ml-3 w-full lg:flex justify-between items-center"},[s("div",{staticClass:" lg:w-full"},[s("hr",{staticClass:"mt-2"}),s("hr",{staticClass:"mt-2"}),s("hr",{staticClass:"mt-2 border-green-500 bg-green-500 border-2"})])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"font-semibold"},[t._v("Payment period")]),s("th",{staticClass:"font-semibold"},[t._v("Amount")]),s("th",{staticClass:"font-semibold"},[t._v("Status")])])])}],o=(s(4114),s(5353)),i=s(2505),n=s.n(i),r=s(3717),c={props:["close","enrollee"],data(){return{action:"",prevRoute:null,dependant:{}}},computed:{...(0,o.aH)({enrollee:t=>t.enrollee,policy:t=>t.repaymentPolicy})},methods:{payRepayment(t){this.$store.commit("startLoading"),n()({url:`${r.A}/health/pay`,data:{repayment_id:t},method:"POST"}).then((t=>{this.$store.commit("endLoading"),this.$store.commit("setSuccess",{status:!0,msg:t.data.data.status}),this.$router.push("/app/dashboard/managehealth")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))}},created(){console.log(this.enrollee)}},d=c,m=s(1656),u=(0,m.A)(d,a,l,!1,null,"c2613196",null),h=u.exports},1411:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"overflow-x-auto xl:overflow-x-auto tablecont"},[!t.$store.state.loading&&t.paginatedEnrollees.length>0?a("table",{staticClass:"w-full mt-8"},[t._m(0),a("tbody",t._l(t.paginatedEnrollees,(function(e,s){return a("tr",{key:s,staticClass:"border border-solid border-gray-300"},[a("td",[t._v(t._s(s+1))]),a("td",{staticClass:"p-3"},[t._v(t._s(e.enrollee.name)+" ")]),a("td",[t._v(t._s(e.amount))]),a("td",[t._v(t._s(e.underwriter.name.toUpperCase()))]),a("td",{class:"Active"==e.status||"Success"==e.status?"text-green-500":"Pending"==e.status||"Incomplete"==e.status?"text-yellow-500":"text-red-500 "},[t._v(t._s(e.status))]),a("td",[t._v(t._s(e.start))]),a("td",[t._v(t._s(e.end))]),"Incomplete"===e.status?a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.action,expression:"action"}],staticClass:"focus:outline-none p-2 border border-solid border-gray-300 rounded",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.action=e.target.multiple?s:s[0]}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("Select action")])])]):"Success"===e.status||"Active"===e.status?a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.action,expression:"action"}],staticClass:"focus:outline-none p-2 border border-solid border-gray-300 rounded",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.action=e.target.multiple?s:s[0]},function(s){return t.handleChange(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("Select action")]),a("option",{attrs:{value:"complete_form"}},[t._v(" View Gadget Info ")]),a("option",{attrs:{value:"view_repayment"}},[t._v(" View Repayment ")])])]):t._e()])})),0)]):!t.$store.state.loading&&t.paginatedEnrollees.length<1?a("div",{staticClass:"w-full text-center py-4"},[a("img",{staticClass:"block  mx-auto",attrs:{src:s(9190),alt:""}}),a("p",{staticClass:"mt-4 text-center font-bold text-green-500 font-lg"},[t._v("No records")])]):t._e(),t.paginatedEnrollees.length>0?a("nav",{staticClass:"mt-8",attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"w-1/2 mx-auto  flex justify-between",staticStyle:{"max-width":"250px"}},[a("li",{staticClass:"page-item"},[1!=t.page?a("button",{staticClass:"inline text-green-500",attrs:{type:"button"},on:{click:function(e){t.page--}}},[t._v(" Previous ")]):a("button",{staticClass:"inline text-green-500 opacity-20"},[t._v("Previous")])]),a("li",{staticClass:"page-item"},[t.page<t.pages.length?a("button",{staticClass:"inline text-green-500",attrs:{type:"button"},on:{click:function(e){t.page++}}},[t._v(" Next ")]):a("button",{staticClass:"inline text-green-500 opacity-20"},[t._v("Next")])])])]):t._e()]),a("div",{staticClass:"mt-24 flex justify-between"},[a("router-link",{staticClass:"text-green-500 block",attrs:{to:"/app/dashboard"}},[t._v("Back")])],1),a("p",{staticClass:"mt-8 text-sm text-center"},[t._v("It’s important to note that you can purchase more than one policy and you can also add a dependent to any or multiple of these policies")]),t.showMeta?a("metadata-modal",{attrs:{enrollee:t.enrollee,close:t.closeModal}}):t._e(),t.showRepayment?a("Repayment",{attrs:{enrollee:t.enrollee,close:t.closeModal}}):t._e()],1)},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{staticClass:"font-bold"},[t._v("S/N")]),s("td",{staticClass:"font-bold"},[t._v("Name")]),s("td",{staticClass:"font-bold"},[t._v("Amount")]),s("td",{staticClass:"font-bold"},[t._v("Underwriter")]),s("td",{staticClass:"font-bold"},[t._v("Status")]),s("td",{staticClass:"font-bold"},[t._v("Start Date")]),s("td",{staticClass:"font-bold"},[t._v("Due Date")]),s("td",{staticClass:"font-bold"},[t._v("Action")])])}],o=(s(4114),s(2505)),i=s.n(o),n=s(3717),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-modal"},[s("div",{staticClass:"loading-modal w-full"},[s("div",{staticClass:"loader bg-white w-1/2 mx-auto rounded px-4 lg:px-8 py-6"},[s("div",{staticClass:"flex justify-end"},[s("div",{staticClass:"top-2",on:{click:this.close}},[s("font-awesome-icon",{staticClass:"text-green-600 ",attrs:{icon:"times-circle"}})],1)]),t._m(0),s("div",{staticClass:"pt-6 relative metaData_container"},[s("div",{staticClass:"flex justify-between p-2.5"},[s("div",[s("label",[t._v("First Name")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.Firstname))])]),s("div",[s("label",[t._v("Last Name")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.Lastname))])]),s("div",[s("label",[t._v("Email")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.Email))])])]),s("div",{staticClass:"flex justify-between p-2.5"},[s("div",[s("label",[t._v("Date Of Birth")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.DateOfBirth))])]),s("div",[s("label",[t._v("Occupation")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.Occupation))])]),s("div",[s("label",[t._v("Address")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.Address))])])]),s("div",{staticClass:"flex justify-between p-2.5"},[s("div",[s("label",[t._v("Nationality")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.Nationality))])]),s("div",[s("label",[t._v("IdType")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.IdType))])]),s("div",[s("label",[t._v("ID Number")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.IdNumber))])])]),s("hr",{staticClass:"p-2.5"}),s("section",{staticClass:"w-10/12"},[t._m(1),t._l(this.enrollee.metadata.Gadgets,(function(e,a){return s("div",{key:a,staticClass:"flex justify-between p-2.5"},[s("div",[s("label",[t._v("Gadget Name")]),s("p",[t._v(t._s(e.name))])]),s("div",[s("label",[t._v("Gadget Value")]),s("p",[t._v(t._s(e.amount))])])])}))],2)])])])])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex justify-between p-2.5"},[s("p",{staticClass:"text-green-500 font-bold"},[t._v("Policy Details")]),s("div",{staticClass:" lg:w-3/4"},[s("hr",{staticClass:"mt-2"}),s("hr",{staticClass:"mt-2"}),s("hr",{staticClass:"mt-2 border-green-500 bg-green-500 border-2"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("Gadget Information")])])}],d=s(5353),m={components:{},props:["close","enrollee"],data(){return{value:this.value,message:""}},computed:{...(0,d.aH)({ratings:t=>t.ratings})},methods:{}},u=m,h=s(1656),p=(0,h.A)(u,r,c,!1,null,"23677955",null),v=p.exports,g=s(9419),_={components:{MetadataModal:v,Repayment:g["default"]},data(){return{enrollees:[],enrollee:{},action:"",showRepayment:!1,showMeta:!1,showContact:!1,showCancel:!1,dependant:{},fullname:"",page:1,perPage:10,pages:[]}},computed:{user(){return this.$store.state.user},paginatedEnrollees(){return this.paginate(this.enrollees)}},watch:{enrollees(){this.setPages()}},methods:{selectEnrollee(t){console.log(t),this.showMeta=!0,this.enrollee=t},handleChange(t){"complete_form"==this.action?this.selectEnrollee(t):"view_repayment"==this.action&&(console.log("gdhdhh"),this.$store.commit("setEnrollee",t),this.$router.push("/app/dashboard/gadget/viewrepayment"))},contactAdmin(t){this.$store.commit("setActiveModal",1),this.showContact=!0,this.enrollee=t},closeModal(){this.showMeta=!1,this.action=""},closeCancel(){this.showCancel=!1,this.action="",this.$store.commit("setActiveModal",0)},cancelPolicy(t){this.$store.commit("setActiveModal",1),this.showCancel=!0,this.enrollee=t},setPages(){let t=Math.ceil(this.enrollees.length/this.perPage);for(let e=1;e<=t;e++)this.pages.push(e)},paginate(t){let e=this.page,s=this.perPage,a=e*s-s,l=e*s;return t.slice(a,l)},getPolicy(){this.fullname=`${this.user.firstname} ${this.user.lastname}`,this.$store.commit("setActiveModal",0),this.$store.commit("startLoading"),i().get(`${n.A}/gadget/policy`).then((t=>{this.enrollees=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))}},mounted(){this.fullname=`${this.user.firstname} ${this.user.lastname}`,this.$store.commit("setActiveModal",0),this.$store.commit("startLoading"),i().get(`${n.A}/gadget/policy`).then((t=>{console.log(t),this.enrollees=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))}},f=_,b=(0,h.A)(f,a,l,!1,null,"f249f696",null),C=b.exports},9190:function(t,e,s){t.exports=s.p+"img/Page-1.75b8f912.svg"}}]);
//# sourceMappingURL=1411.01e3450c.js.map