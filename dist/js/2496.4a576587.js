(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[2496],{5595:function(t,e,s){"use strict";s.d(e,{A:function(){return d}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-modal"},[s("div",{staticClass:"loading-modal w-full"},[s("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"loader bg-white w-4/5 mx-auto rounded px-4 lg:px-8 pb-6"},[s("div",{staticClass:"pt-6 relative"},[s("span",{staticClass:"text-lg font-bold absolute top-2 right-0 text-red-500 cursor-pointer",staticStyle:{right:"-10px"},on:{click:t.close}},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41L17.59 5Z",fill:"#FF0000"}})])]),s("h1",{staticClass:"text-2xl font-bold"},[t._v("PaddyCover Terms and conditions")]),t._m(0)])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"list-disc px-4 list"},[s("li",{staticClass:"mt-1"},[t._v("The Customer shall repay the principal and interest in Twelve (12) equal monthly instalments.")]),s("li",{staticClass:"mt-1"},[t._v("The Customer hereby authorizes PaddyCover to debit [his/her] account for the monthly loan obligations.")]),s("li",{staticClass:"mt-1"},[t._v("Reserved interest rate chargeable on the Customer’s account shall be Paddy Cover’s Lender’s prime lending rate from time to time.")]),s("li",{staticClass:"mt-1"},[t._v("Interest will be charged on all amounts owed by Customer.")]),s("li",{staticClass:"mt-1"},[t._v("In the event of default by the Customer in making any repayment on due date, the insurance cover will be terminated immediately.")]),s("li",{staticClass:"mt-1"},[t._v("PaddyCover shall advise the Customer of any change in prime lending rate, charges, fees or any other terms and conditions of the loan by a notice at its branches in Nigeria or by notes in customer statements.")]),s("li",{staticClass:"mt-1"},[t._v("The Customer authorizes PaddyCover to instruct the Assurer to cancel the policy where the loan remains unpaid for a period of 7 days after due date of repayment.")]),s("li",{staticClass:"mt-1"},[t._v("The Customer authorizes PaddyCover to obtain and retain on the Credit Risk Management System of the Central Bank of Nigeria, all information relating to the Customer’s Bank Verification Numbers and the status of indebtedness.")]),s("li",{staticClass:"mt-1"},[t._v("The Customer hereby irrevocably undertakes to fully indemnify PaddyCover against all cost and expenses (including legal fees, collection commission et cetera), arising in any way in connection with the Customer’s accounts; in enforcing the terms and conditions herein; or from the recovery of any amounts due to PaddyCover or incurred by PaddyCover in any legal proceedings of whatever nature.")]),s("li",{staticClass:"mt-1"},[t._v("The terms and conditions contained binds the Customer and is not assignable.")]),s("li",{staticClass:"mt-1"},[t._v("The Customer covenants and warrants that, in making any repayment on due date in the event that the loan repayment period or day falls on a weekend or public holiday, the effective loan repayment day shall be the preceding business day.")])])}],n=s(9499),o={mixins:[n.co],data(){return{}},methods:{close(){this.$emit("close")}}},l=o,r=s(1656),c=(0,r.A)(l,a,i,!1,null,"a52287ac",null),d=c.exports},7797:function(t,e,s){"use strict";s.d(e,{A:function(){return c}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-modal"},[s("div",{staticClass:"loading-modal w-full"},[s("div",{staticClass:"loader bg-white w-4/5 mx-auto rounded px-4 lg:px-8 pb-6"},[s("div",{staticClass:"pt-6 relative"},[s("div",{staticClass:"py-4"},[s("h1",{staticClass:"font-bold text-xl text-center"},[t._v("Pay with existing card or use a new card?")]),s("div",{staticClass:"mt-8 md:flex md:w-3/4 md:mx-auto md:items-center gap-6"},[s("div",{staticClass:"focus:outline-none block w-full rounded border border-solid border-green-500 text-green-500 text-white md:px-3 py-2 cursor-pointer",on:{click:t.useOldCard}},[t._v("Yes, proceed")]),s("div",{staticClass:"mt-4 md:mt-0 block w-full focus:outline-none rounded border border-solid border-red-500 text-red-500 text-white md:px-3 py-2 cursor-pointer",on:{click:t.useNewCard}},[t._v("No. new card")])])])])])])])},i=[],n={data(){return{}},methods:{close(){this.$emit("close")},useOldCard(){this.$emit("useCard","old")},useNewCard(){this.$emit("useCard","new")}}},o=n,l=s(1656),r=(0,l.A)(o,a,i,!1,null,"5222c380",null),c=r.exports},3034:function(t,e,s){"use strict";s.d(e,{A:function(){return u}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-modal"},[s("div",{staticClass:"loading-modal w-full"},[s("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"loader bg-white w-2/4 mx-auto rounded px-4 lg:px-8 pb-6 pt-4"},[s("div",{staticClass:"mt-6"},[t._m(0),s("div",{staticClass:"mt-4 "},["aiico"===this.type?s("ul",{staticClass:"mt-8 md:mt-10 md:flex md:gap-10"},[s("li",[s("ul",{staticClass:"flex justify-between md:gap-10"},[s("li",{staticClass:"item"},[s("p",[t._v("Country Category")]),s("p",{staticClass:"mt-4 font-bold"},[t._v(t._s(this.details.result.currency))])]),s("li",{staticClass:"item"},[s("p",[t._v("Premium")]),s("p",{staticClass:"mt-4 font-bold"},[t._v(t._s(this.details.result.premium))])])])]),s("li",{staticClass:"item mt-6 md:mt-0"},[s("p",[t._v("Sum Assured")]),s("p",{staticClass:"mt-4 font-bold"},[t._v(t._s(this.details.result.sumAssured))])])]):s("div",{},[s("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Country")]),s("p",[t._v(t._s(this.details.country))])]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Depature Date")]),s("p",[t._v(t._s(this.details.cover_start))])]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Arrival Date")]),s("p",[t._v(t._s(this.details.cover_end))])])]),s("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Round Trip")]),s("p",[t._v(t._s(this.details.is_multi_trip))])]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("No Of People ")]),s("p",[t._v(t._s(this.details.no_people))])]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("No of Children")]),s("p",[t._v(t._s(this.details.no_children))])])])])]),s("div",{staticClass:"pt-6"},[s("hr"),t._m(1),s("div",{staticClass:"lg:ml-3"}),"aiico"!==this.type?s("div",{staticClass:"mt-4"},[s("label",{staticClass:"font-bold"},[t._v("AMOUNT")]),s("p",[t._v(t._s(this.details.amount))])]):s("div",{staticClass:"mt-4"},[s("label",{staticClass:"font-bold"},[t._v("AMOUNT")]),s("p",[t._v(t._s(this.details.result.premium))])])]),s("div",{staticClass:"hidden lg:flex justify-between mt-10"},[s("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[s("a",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left mt-12 block text-center",on:{click:t.hide}},[s("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),t._v(" Back ")],1)]),s("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none",on:{click:t.callnext}},[t._v(" Continue "),s("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1)]),s("div",{staticClass:"block lg:hidden mt-10"},[s("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white py-2 rounded focus:outline-none",on:{click:t.callnext}},[t._v(" Continue "),s("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1),s("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[s("a",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left px-12 mt-12 block text-center",on:{click:t.hide}},[s("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),t._v(" Back ")],1)])])])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex justify-between p-2.5"},[s("p",{staticClass:"text-green-500 font-bold"},[t._v("Travel Quote")]),s("div",{staticClass:" lg:w-3/4"},[s("hr",{staticClass:"mt-2"}),s("hr",{staticClass:"mt-2"}),s("hr",{staticClass:"mt-2 border-green-500 bg-green-500 border-2"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-6"},[s("div",{staticClass:"mt-4"})])}],n=s(9499),o=s(5353),l={components:{},props:["next","steps","close","details","type"],data(){return{error:{value:!1}}},directives:{onClickaway:n.u$},methods:{hide(){this.close()},callnext(){"aiico"==this.type?this.close():(this.close(),this.next(this.steps))}},watch:{},computed:{...(0,o.aH)({vehicle_category_id:t=>t.vehicle_category_id,beneficiary:t=>t.beneficiary,underwriterId:t=>t.underwriter_id,data:t=>t.vehicle.chiResources})},mounted(){0==Object.keys(this.data).length&&this.getResources()}},r=l,c=s(1656),d=(0,c.A)(r,a,i,!1,null,"f69fbcf6",null),u=d.exports},2496:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return b}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-8 lg:w-3/4 lg:mx-auto"},[1===t.steps?s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.getQuote.apply(null,arguments)}}},[s("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Travel Type")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.subclassObject,expression:"subclassObject"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.subclassObject=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select Travel Type")]),t._l(t.subClasses,(function(e){return s("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.name))])}))],2)]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("County")]),s("select",{directives:[{name:"model",rawName:"v-model.number",value:t.destination_country_id,expression:"destination_country_id",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.destination_country_id=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select county")]),t._l(t.countries,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Date of birth")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dob,expression:"dob"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",required:""},domProps:{value:t.dob},on:{input:function(e){e.target.composing||(t.dob=e.target.value)}}})])]),s("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Proposed date of departure")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dapature_date,expression:"dapature_date"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",id:"depature",required:""},domProps:{value:t.dapature_date},on:{change:function(e){return t.checkDate()},input:function(e){e.target.composing||(t.dapature_date=e.target.value)}}})]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Proposed date of return")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.return_date,expression:"return_date"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",id:"return",required:""},domProps:{value:t.return_date},on:{input:function(e){e.target.composing||(t.return_date=e.target.value)}}})])]),s("br"),s("hr"),s("div",{staticClass:"flex flex-col gap-6 lg:flex-row lg:flex-row-reverse lg:justify-between mt-6 pb-10"},[s("button",{staticClass:"bg-green-500 px-6 text-white py-2 rounded outline-none focus:outline-none block submit"},[t._v("Get Quote")]),s("router-link",{staticClass:"bg-gray-500 py-2 rounded text-white block px-6 text-center",attrs:{to:"/app/dashboard/buytravel/choose"}},[t._v(" Back ")])],1)])]):s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}}},[s("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Title")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.title_id,expression:"title_id"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.title_id=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select Title")]),t._l(t.titles,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Phone Number")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.sms,expression:"sms"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.sms},on:{input:function(e){e.target.composing||(t.sms=e.target.value)}}})]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Next of Kin Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.next_of_kin,expression:"next_of_kin"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.next_of_kin},on:{input:function(e){e.target.composing||(t.next_of_kin=e.target.value)}}})])]),s("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Next of Kin Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.next_of_kin_address,expression:"next_of_kin_address"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.next_of_kin_address},on:{input:function(e){e.target.composing||(t.next_of_kin_address=e.target.value)}}})]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Next of Kin Relationship")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.next_of_kin_relationship,expression:"next_of_kin_relationship"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.next_of_kin_relationship},on:{input:function(e){e.target.composing||(t.next_of_kin_relationship=e.target.value)}}})]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Passport Number")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.passport_number,expression:"passport_number"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.passport_number},on:{input:function(e){e.target.composing||(t.passport_number=e.target.value)}}})])]),s("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Any medical condition?")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.medical_condition,expression:"medical_condition"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.medical_condition=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select")]),s("option",{attrs:{value:"true"}},[t._v("Yes")]),s("option",{attrs:{value:"false"}},[t._v("No")])])]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Proposed date of departure")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dapature_date,expression:"dapature_date"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",id:"depature",required:""},domProps:{value:t.dapature_date},on:{change:function(e){return t.checkDate()},input:function(e){e.target.composing||(t.dapature_date=e.target.value)}}})]),s("div",{staticClass:"lg:w-full lg:mr-3"},[s("label",{staticClass:"text-sm font-bold"},[t._v("Proposed date of return")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.return_date,expression:"return_date"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",id:"return",required:""},domProps:{value:t.return_date},on:{input:function(e){e.target.composing||(t.return_date=e.target.value)}}})])]),s("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[s("div",{staticClass:"mt-4 lg:w-full lg:ml-3"},[t._m(0),s("div",{},[s("div",{staticClass:"lg:w-full mt-2"},[s("label",{staticClass:"p-2 text-white rounded cursor-pointer",staticStyle:{"background-color":"#102A49"},attrs:{for:"idImage"}},[t._v("Choose File")]),s("p",{staticClass:"inline ml-3"},[t._v(t._s(t.idImageName))]),s("input",{ref:"idImage",staticClass:"fileinput hidden",attrs:{id:"idImage",type:"file"},on:{change:t.idUpload}})]),t.error.idImage?s("p",{staticClass:"text-red-500 text-sm mt-2"},[t._v("Please upload a valid image file")]):t._e()])]),"true"==t.medical_condition?s("div",[s("label",{staticClass:"text-sm font-bold"},[t._v("Full details of Medical Condition")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.medical,expression:"medical"}],staticClass:"input rounded mt-4 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{rows:"5",required:""},domProps:{value:t.medical},on:{input:function(e){e.target.composing||(t.medical=e.target.value)}}})]):t._e()]),t._m(1),s("br"),s("hr"),s("div",{staticClass:"mt-4 flex items-center gap-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.check,expression:"check"}],attrs:{type:"checkbox"},domProps:{value:1,checked:Array.isArray(t.check)?t._i(t.check,1)>-1:t.check},on:{change:function(e){var s=t.check,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=1,o=t._i(s,n);a.checked?o<0&&(t.check=s.concat([n])):o>-1&&(t.check=s.slice(0,o).concat(s.slice(o+1)))}else t.check=i}}}),s("p",{staticClass:"text-sm"},[t._v("I accept "),s("button",{staticClass:"text-blue-500",attrs:{type:"button"},on:{click:function(e){t.showTermsModal=!0}}},[t._v("terms and conditions")])])]),t.error.terms?s("p",{staticClass:"text-red-500 text-xs mt-2"},[t._v("Please accept terms")]):t._e(),s("div",{staticClass:"flex flex-col gap-6 lg:flex-row lg:flex-row-reverse lg:justify-between mt-6 pb-10"},[s("button",{staticClass:"bg-green-500 px-6 text-white py-2 rounded outline-none focus:outline-none block submit"},[t._v("Proceed")]),s("router-link",{staticClass:"bg-gray-500 py-2 rounded text-white block px-6 text-center",attrs:{to:"/app/dashboard/buytravel/choose"}},[t._v(" Back ")])],1)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showPaystack,expression:"showPaystack"}]},[s("Paystack",{ref:"paystackbutton",staticClass:" hidden mt-6 w-full bg-green-500 text-white py-2 rounded outline-none focus:outline-none",attrs:{amount:t.paystackData.amount,email:t.paystackData.email,paystackkey:t.paystackData.public_key,reference:t.paystackData.reference,callback:t.verifyPayment,close:t.closePayment,channels:t.payStackChannels}})],1),s("transition",{attrs:{name:"scale"}},[t.showTermsModal?s("TermsModal",{on:{close:function(e){t.showTermsModal=!1}}}):t._e()],1),s("transition",{attrs:{name:"scale"}},[t.showMethodModal?s("PaymentMethod",{on:{useCard:t.payWithCard}}):t._e()],1),s("transition",{attrs:{name:"scale"}},[this.showQuote?s("PreviewQuote",{attrs:{close:this.close,next:this.next,steps:this.steps,details:this.quotedetails,type:"aiico"}}):t._e()],1)],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-sm font-bold"},[t._v("Upload your Passport Image"),s("span",{staticClass:"text-red-500"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-4 lg:flex "},[s("br")])}],n=(s(4114),s(5595)),o=s(5353),l=s(9401),r=s.n(l),c=s(2505),d=s.n(c),u=s(7816),m=s(3034),p=s(7797),f={components:{PaymentMethod:p.A,PreviewQuote:m.A,TermsModal:n.A,Paystack:r()},data(){return{showQuote:!1,check:[],money:{thousands:",",prefix:"₦ ",precision:0,masked:!1},lga_id:"",countries:[],steps:1,country:{},title_id:"",titles:[],subClasses:[],subclassObject:null,subclass_sect_covtype_id:"",destination_country_id:"",title:{},sms:"",idImageName:"",dob:"",surname:"",firstname:"",middlename:"",destination_id:"",next_of_kin:"",next_of_kin_address:"",next_of_kin_relationship:"",passport_number:"",medical_condition:"",travellers:"",medical:"",dapature_date:"",return_date:"",idImage:"",user_travel_id:"",houseItems:[{item_name:"",cost:"",error:!1}],payStackChannels:["card","bank","ussd","qr","mobile_money","bank_transfer"],error:{billImage:!1,idImage:!1,terms:!1},initResponse:{},paystackData:{public_key:"",email:"",amount:0,reference:""},showPaystack:!1,showTermsModal:!1,showMethodModal:!1}},computed:{...(0,o.aH)({user:t=>t.user,underwriter_id:t=>t.underwriter_id,beneficiary:t=>t.beneficiary})},methods:{initiatePayment(){if(!this.user.has_card)return this.payNow();this.showMethodModal=!0},close(){this.showQuote=!1,this.steps=2},idUpload(){this.idImageName=this.$refs.idImage.files[0].name,this.error.idImage=!1;let t=this.$refs.idImage.files[0],e=new FileReader,s=this;e.onload=function(t){s.idImage=t.target.result},e.readAsDataURL(t)},checkDate(){var t=this.dapature_date,e=document.getElementById("return");e.setAttribute("min",t)},validate(){if(!this.check.length>0)return void(this.error.terms=!0);this.error.terms=!1;const t={underwriter_id:this.underwriter_id,enrollee_id:this.user.user_id,premium_id:this.quotedetails.id,start_date:this.dapature_date,end_date:this.return_date,next_of_kin_name:this.next_of_kin,next_of_kin_address:this.next_of_kin_address,next_of_kin_relationship:this.next_of_kin_relationship,titleId:this.title_id.toString(),passportNumber:this.passport_number,sms:this.sms,preMedical:"yes"===this.medical_condition?"true":"false",medical:this.medical,passportUrl:this.idImage};this.$store.commit("startLoading"),d()({url:`${u.A}/aiico/travel/policy`,data:t,method:"POST"}).then((t=>{console.log(t.data.data),this.user_travel_id=t.data.data.user_travel_id,this.initiatePayment(),this.$store.commit("endLoading")})).catch((t=>{this.$store.dispatch("handleError",t)}))},register(){return""==this.billImageName?(this.error.billImage=!0,void this.$store.commit("setError",{status:!0,msg:"Please upload a valid bill image"})):""==this.idImageName?(this.error.idImage=!0,void this.$store.commit("setError",{status:!0,msg:"Please upload a valid id image"})):void(Object.values(this.error).includes(!0)||this.getData())},getData(){let t=[];this.houseItems.forEach((e=>{let s=Object.assign({},e);t.push(s)})),t.forEach((t=>{t.cost=100*parseInt(t.cost),delete t.error})),this.updateProfile(t)},getCountries(){d()({url:`${u.A}/aiico/country/${this.subclassObject.category}`,data:{},method:"GET"}).then((t=>{this.countries=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getTitle(){d()({url:`${u.A}/aiico/titles`,data:{},method:"GET"}).then((t=>{this.titles=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getSubClass(){d()({url:`${u.A}/travel/subclass`,data:{},method:"GET"}).then((t=>{this.subClasses=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getQuote(){this.$store.commit("startLoading");const t={destination_country_id:this.destination_country_id,subclass_sect_covtype_id:this.subclass_sect_covtype_id,dob:this.dob,start_date:this.dapature_date,end_date:this.return_date};d()({url:`${u.A}/aiico/travel/quote`,data:t,method:"POST"}).then((t=>{console.log(t.data.data),this.$store.commit("saveTravelPremium",t.data.data),this.quotedetails=t.data.data,this.showQuote=!0,this.$store.commit("endLoading")})).catch((t=>{this.$store.dispatch("handleError",t)}))},payWithCard(t){this.showMethodModal=!1,"old"===t?this.$router.push("/app/dashboard/buytravel/4"):"new"===t&&this.payNow()},payNow(){this.$store.commit("startLoading");let t={user_travel_id:this.user_travel_id,card_id:0};console.log(t),d()({url:`${u.A}/travel/payment/init`,data:t,method:"POST"}).then((t=>{console.log(t.data.data),this.showPaystack=!0,this.initResponse=t.data.data,this.paystackData.public_key=this.initResponse.public_key,this.paystackData.email=this.initResponse.email,this.paystackData.amount=this.initResponse.amount,this.paystackData.reference=this.initResponse.aiico_reference,this.paystackData.channels=this.paystackChannels,this.$refs.paystackbutton.payWithPaystack(this.paystackData)})).catch((t=>{this.$store.dispatch("handleError",t)}))},verifyPayment(){const t={reference:this.initResponse.reference,amount:this.initResponse.amount.toString(),aiico_reference:this.initResponse.aiico_reference};d()({url:`${u.A}/travel/aiico/payment/verify`,data:t,method:"POST"}).then((t=>{this.$store.commit("endLoading"),this.$store.commit("setSuccess",{status:!0,msg:t.data.message}),this.showReviewModal=!0,this.$router.push("/app/dashboard/managetravel")})).catch((t=>{this.$store.commit("endLoading"),this.$store.commit("setError",{status:!0,msg:t.response.data.message})}))},closePayment(){this.$store.commit("endLoading"),this.$store.commit("setError",{status:!0,msg:"Payment cancelled"})}},mounted(){var t=new Date,e=t.getDate(),s=t.getMonth()+1,a=t.getFullYear();e<10&&(e="0"+e),s<10&&(s="0"+s),t=a+"-"+s+"-"+e;var i=document.getElementById("depature");i.setAttribute("min",t),this.getTitle(),this.getSubClass(),this.$store.commit("endLoading")},watch:{subclassObject(t){t&&(this.subclass_sect_covtype_id=this.subclassObject.id,this.getCountries())}}},h=f,v=s(1656),g=(0,v.A)(h,a,i,!1,null,"e4afd0bc",null),b=g.exports},9401:function(t){!function(e,s){t.exports=s()}(window,(function(){return s={},t.m=e=[function(t,e,s){"use strict";s.r(e);var a,i,n,o,l,r,c,d,u,m,p;o=!(n=[]),c=r=l=null,p="function"==typeof(a={props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,required:!0},email:{type:String,required:!0},firstname:{type:String,default:""},lastname:{type:String,default:""},amount:{type:Number,required:!0},reference:{type:String,required:!0},channels:{type:Array,default:function(){return["card","bank"]}},accessCode:{type:String,default:""},callback:{type:Function,required:!0,default:function(){}},close:{type:Function,required:!0,default:function(){}},metadata:{type:Object,default:function(){return{}}},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:String,default:""},subaccount:{type:String,default:""},split:{type:Object,default:function(){return{}}},splitCode:{type:String,default:""},transactionCharge:{type:Number,default:0},bearer:{type:String,default:""}},data:function(){return{scriptLoaded:null}},created:function(){var t=this;this.scriptLoaded=new Promise((function(e){t.loadScript((function(){e()}))}))},mounted:function(){this.embed&&this.payWithPaystack()},methods:{loadScript:function(t){var e=document.createElement("script");e.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(e),e.readyState?e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onreadystatechange=null,t())}:e.onload=function(){t()}},isDynamicSplit:function(){return this.split.constructor===Object&&0<Object.keys(this.split).length},payWithPaystack:function(){var t=this;this.scriptLoaded&&this.scriptLoaded.then((function(){var e={key:t.paystackkey,email:t.email,firstname:t.firstname,lastname:t.lastname,channels:t.channels,amount:t.amount,access_code:t.accessCode,ref:t.reference,callback:function(e){t.callback(e)},onClose:function(){t.close()},metadata:t.metadata,currency:t.currency,plan:t.plan,quantity:t.quantity,subaccount:t.isDynamicSplit()?"":t.subaccount,split:t.isDynamicSplit()?t.split:null,split_code:t.isDynamicSplit()?"":t.splitCode,transaction_charge:t.isDynamicSplit()?0:t.transactionCharge,bearer:t.isDynamicSplit()?"":t.bearer};t.embed&&(e.container="paystackEmbedContainer"),e=window.PaystackPop.setup(e),t.embed||e.openIframe()}))}}})?a.options:a,(i=function(){var t=this,e=t._self._c||t.$createElement;return t.embed?e("div",{attrs:{id:"paystackEmbedContainer"}}):e("button",{staticClass:"payButton",on:{click:t.payWithPaystack}},[t._t("default",[t._v("Make Payment")])],2)})&&(p.render=i,p.staticRenderFns=n,p._compiled=!0),o&&(p.functional=!0),r&&(p._scopeId="data-v-"+r),c?p._ssrRegister=u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),l&&l.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(c)}:l&&(u=d?function(){l.call(this,(p.functional?this.parent:this).$root.$options.shadowRoot)}:l),u&&(p.functional?(p._injectStyles=u,m=p.render,p.render=function(t,e){return u.call(e),m(t,e)}):p.beforeCreate=(d=p.beforeCreate)?[].concat(d,u):[u]),s={exports:a,options:p};e.default=s.exports}],t.c=s,t.d=function(e,s,a){t.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:a})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,s){if(1&s&&(e=t(e)),8&s)return e;if(4&s&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var i in e)t.d(a,i,function(t){return e[t]}.bind(null,i));return a},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="/dist/",t(t.s=0);function t(a){if(s[a])return s[a].exports;var i=s[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var e,s}))}}]);
//# sourceMappingURL=2496.4a576587.js.map