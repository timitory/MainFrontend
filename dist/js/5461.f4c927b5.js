"use strict";(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[5461],{5461:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"overflow-x-auto xl:overflow-x-auto tablecont"},[!t.$store.state.loading&&t.paginatedEnrollees.length>0?a("table",{staticClass:"w-full mt-8"},[t._m(0),a("tbody",t._l(t.paginatedEnrollees,(function(e,s){return a("tr",{key:s,staticClass:"border border-solid border-gray-300"},[a("td",[t._v(t._s(s+1))]),a("td",{staticClass:"p-3"},[t._v(t._s(e.enrollee.name)+" ")]),a("td",[t._v(t._s(e.amount))]),a("td",[t._v(t._s(e.underwriter.name.toUpperCase()))]),a("td",{class:"Active"==e.status||"Success"==e.status?"text-green-500":"Pending"==e.status||"Incomplete"==e.status?"text-yellow-500":"text-red-500 "},[t._v(t._s(e.status))]),a("td",[t._v(t._s(e.start))]),a("td",[t._v(t._s(e.end))]),"Incomplete"==e.status?a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.action,expression:"action"}],staticClass:"focus:outline-none p-2 border border-solid border-gray-300 rounded",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.action=e.target.multiple?s:s[0]},function(s){return t.selectEnrollee(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("Select action")]),"no"===e.is_update?a("option",{attrs:{value:"complete_form"},on:{click:function(s){return t.selectEnrollee(e)}}},[t._v(" Complete Form ")]):t._e()])]):"Success"==e.status?a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.action,expression:"action"}],staticClass:"focus:outline-none p-2 border border-solid border-gray-300 rounded",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.action=e.target.multiple?s:s[0]},function(s){return t.selectEnrollee(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("Select action")]),"no"===e.is_update?a("option",{attrs:{value:"complete_form"}},[a("router-link",{attrs:{to:"pet/completeform"}},[t._v(" Complete Form ")])],1):t._e(),a("option",{attrs:{value:"pet_info"}},[t._v(" View Pet Info ")]),a("option",{attrs:{value:"view"}},[t._v("View repayment schedule")])])]):t._e()])})),0)]):!t.$store.state.loading&&t.paginatedEnrollees.length<1?a("div",{staticClass:"w-full text-center py-4"},[a("img",{staticClass:"block  mx-auto",attrs:{src:s(9190),alt:""}}),a("p",{staticClass:"mt-4 text-center font-bold text-green-500 font-lg"},[t._v("No records")])]):t._e(),t.paginatedEnrollees.length>0?a("nav",{staticClass:"mt-8",attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"w-1/2 mx-auto  flex justify-between",staticStyle:{"max-width":"250px"}},[a("li",{staticClass:"page-item"},[1!=t.page?a("button",{staticClass:"inline text-green-500",attrs:{type:"button"},on:{click:function(e){t.page--}}},[t._v(" Previous ")]):a("button",{staticClass:"inline text-green-500 opacity-20"},[t._v("Previous")])]),a("li",{staticClass:"page-item"},[t.page<t.pages.length?a("button",{staticClass:"inline text-green-500",attrs:{type:"button"},on:{click:function(e){t.page++}}},[t._v(" Next ")]):a("button",{staticClass:"inline text-green-500 opacity-20"},[t._v("Next")])])])]):t._e()]),a("div",{staticClass:"mt-24 flex justify-between"},[a("router-link",{staticClass:"text-green-500 block",attrs:{to:"/app/dashboard"}},[t._v("Back")])],1),a("p",{staticClass:"mt-8 text-sm text-center"},[t._v("Itâ€™s important to note that you can purchase more than one policy and you can also add a dependent to any or multiple of these policies")]),t.showMeta?a("metadata-modal",{attrs:{enrollee:t.enrollee,close:t.closeModal}}):t._e()],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{staticClass:"font-bold"},[t._v("S/N")]),s("td",{staticClass:"font-bold"},[t._v("Name")]),s("td",{staticClass:"font-bold"},[t._v("Amount")]),s("td",{staticClass:"font-bold"},[t._v("Underwriter")]),s("td",{staticClass:"font-bold"},[t._v("Status")]),s("td",{staticClass:"font-bold"},[t._v("Start Date")]),s("td",{staticClass:"font-bold"},[t._v("Due Date")]),s("td",{staticClass:"font-bold"},[t._v("Action")])])}],l=(s(4114),s(2505)),i=s.n(l),n=s(3095),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-modal"},[s("div",{staticClass:"loading-modal w-full"},[s("div",{staticClass:"loader bg-white w-1/2 mx-auto rounded px-4 lg:px-8 py-6"},[s("div",{staticClass:"flex justify-between p-2.5"},[s("h1",[t._v("MetaData")]),s("div",{staticClass:"top-2",on:{click:this.close}},[s("font-awesome-icon",{staticClass:"text-green-600 ",attrs:{icon:"times-circle"}})],1)]),s("div",{staticClass:"pt-6 relative metaData_container"},[s("div",{staticClass:"flex justify-between p-2.5"},[s("div",[s("label",[t._v("Identification No")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.id_no))])]),s("div",[s("label",[t._v("Breed Type")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.breed_type))])]),s("div",[s("label",[t._v("Age")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.age))])]),s("div",[s("label",[t._v("Health Status")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.health_status))])])]),s("div",{staticClass:"flex justify-between p-2.5"},[s("div",[s("label",[t._v("Medication recieved")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.medication_received))])]),s("div",[s("label",[t._v("Acquisition Cost")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.acquisition_cost))])]),s("div",[s("label",[t._v("Maintainace Cost")]),s("p",{staticClass:"font-semibold"},[t._v(t._s(this.enrollee.metadata.maintenance_cost))])])])])])])])},c=[],d=s(5353),u={components:{},props:["close","enrollee"],data(){return{value:this.value,message:""}},computed:{...(0,d.aH)({ratings:t=>t.ratings})},methods:{}},m=u,p=s(1656),h=(0,p.A)(m,r,c,!1,null,"7e690516",null),v=h.exports,_={components:{MetadataModal:v},data(){return{enrollees:[],enrollee:{},action:"",showContact:!1,showCancel:!1,showMeta:!1,dependant:{},fullname:"",page:1,perPage:10,pages:[]}},computed:{user(){return this.$store.state.user},paginatedEnrollees(){return this.paginate(this.enrollees)}},watch:{enrollees(){this.setPages()}},methods:{selectEnrollee(t){this.enrollee=t,"complete_form"===this.action&&(console.log(t),this.$store.commit("setUserData",t),this.$router.push("/pet/completeform")),"pet_info"===this.action&&(this.showMeta=!0,this.enrollee=t),"view"==this.action&&(this.$store.commit("setEnrollee",t),this.$router.push("/app/dashboard/pet/viewrepayment")),this.action=""},contactAdmin(t){this.$store.commit("setActiveModal",1),this.showContact=!0,this.enrollee=t},closeModal(){this.showMeta=!1,this.action=""},closeCancel(){this.showCancel=!1,this.action="",this.$store.commit("setActiveModal",0)},cancelPolicy(t){this.$store.commit("setActiveModal",1),this.showCancel=!0,this.enrollee=t},setPages(){let t=Math.ceil(this.enrollees.length/this.perPage);for(let e=1;e<=t;e++)this.pages.push(e)},paginate(t){let e=this.page,s=this.perPage,a=e*s-s,o=e*s;return t.slice(a,o)},getPolicy(){this.fullname=`${this.user.firstname} ${this.user.lastname}`,this.$store.commit("setActiveModal",0),this.$store.commit("startLoading"),i().get(`${n.A}/vehicle/policy`).then((t=>{this.enrollees=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))}},mounted(){this.fullname=`${this.user.firstname} ${this.user.lastname}`,this.$store.commit("setActiveModal",0),this.$store.commit("startLoading"),i().get(`${n.A}/pet/policy`).then((t=>{console.log(t),this.enrollees=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))}},f=_,g=(0,p.A)(f,a,o,!1,null,"505ac68e",null),b=g.exports},9190:function(t,e,s){t.exports=s.p+"img/Page-1.75b8f912.svg"}}]);
//# sourceMappingURL=5461.f4c927b5.js.map