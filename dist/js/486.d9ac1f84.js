(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[486],{7797:function(t,e,a){"use strict";a.d(e,{A:function(){return u}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-modal"},[a("div",{staticClass:"loading-modal w-full"},[a("div",{staticClass:"loader bg-white w-4/5 mx-auto rounded px-4 lg:px-8 pb-6"},[a("div",{staticClass:"pt-6 relative"},[a("div",{staticClass:"py-4"},[a("h1",{staticClass:"font-bold text-xl text-center"},[t._v("Pay with existing card or use a new card?")]),a("div",{staticClass:"mt-8 md:flex md:w-3/4 md:mx-auto md:items-center gap-6"},[a("div",{staticClass:"focus:outline-none block w-full rounded border border-solid border-green-500 text-green-500 text-white md:px-3 py-2 cursor-pointer",on:{click:t.useOldCard}},[t._v("Yes, proceed")]),a("div",{staticClass:"mt-4 md:mt-0 block w-full focus:outline-none rounded border border-solid border-red-500 text-red-500 text-white md:px-3 py-2 cursor-pointer",on:{click:t.useNewCard}},[t._v("No. new card")])])])])])])])},l=[],i={data(){return{}},methods:{close(){this.$emit("close")},useOldCard(){this.$emit("useCard","old")},useNewCard(){this.$emit("useCard","new")}}},n=i,o=a(1656),r=(0,o.A)(n,s,l,!1,null,"5222c380",null),u=r.exports},6427:function(t,e,a){"use strict";a.d(e,{A:function(){return h}});var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-modal"},[s("div",{staticClass:"loading-modal w-full"},[s("div",{staticClass:"loader bg-white w-4/5 mx-auto rounded px-4 lg:px-8 pb-6"},[s("div",{staticClass:"pt-6 relative"},[s("div",{},[s("img",{staticClass:" mx-auto w-3/5 img",attrs:{src:a(7267),alt:""}}),t._m(0),s("StarRating",{staticClass:"text-center",attrs:{value:"0"}}),s("div",{staticClass:"mt-4"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{rows:"5",placeholder:" Leave a comment",required:""},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})]),s("div",[s("button",{staticClass:"block w-full bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none",attrs:{type:"button"},on:{click:t.submitReview}},[t._v(" Submit ")])]),s("div",[s("button",{staticClass:"block w-full mt-2 text-dark bg-gray-100 px-12 py-2 rounded focus:outline-none",on:{click:t.viewpolicy}},[t._v(" View Policy ")])])],1)])])])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-center pt-4 pb-8"},[t._v("How likely would you recommend PADDYCOVER "),a("br"),t._v(" to your friends?")])}],i=(a(4114),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"star-rating"},t._l(t.ratings,(function(e){return a("label",{key:e.index,staticClass:"star-rating__star",class:{"is-selected":t.temp_value>=e&&null!=t.temp_value,"is-disabled":t.disabled},on:{click:function(a){return t.set(e)},mouseover:function(a){return t.star_over(e)},mouseout:t.star_out}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.temp_value,expression:"temp_value"}],staticClass:"star-rating star-rating__checkbox",attrs:{type:"radio",name:t.name,disabled:t.disabled},domProps:{value:e,checked:t._q(t.temp_value,e)},on:{change:function(a){t.temp_value=e}}}),t._v("â˜…")])})),0)}),n=[],o={props:{name:String,value:null,id:String,disabled:Boolean,required:Boolean},data:function(){return{temp_value:null,temp_value2:null,ratings:[1,2,3,4,5]}},mounted(){this.temp_value=this.value},computed:{},methods:{star_over:function(t){this.disabled||(this.temp_value=t)},star_out:function(){this.disabled||(this.temp_value=this.temp_value2)},set:function(t){this.disabled||(this.temp_value=t,this.temp_value2=t,console.log(this.temp_value),this.$store.commit("setRating",this.temp_value))}}},r=o,u=a(1656),d=(0,u.A)(r,i,n,!1,null,"55418331",null),c=d.exports,m=a(2505),p=a.n(m),f=a(850),g=a(5353),_={components:{StarRating:c},props:[close,"tett"],data(){return{value:this.value,message:""}},computed:{...(0,g.aH)({ratings:t=>t.ratings})},methods:{viewpolicy(){"/pet/managepet"===this.tett||"/gadget/managegadget"===this.tett?this.$router.push(this.tett):this.$router.push(`/app/dashboard/${this.tett}`)},submitReview(){this.$store.commit("startLoading");const t={message:this.message,rating:this.ratings};console.log(t),p()({url:`${f.A}/feedback `,data:t,method:"POST"}).then((t=>{this.$store.commit("endLoading"),this.$router.push(`/app/dashboard/${this.tett}`),console.log(t.data)})).catch((t=>{this.$store.dispatch("handleError",t)}))}}},v=_,b=(0,u.A)(v,s,l,!1,null,"8179001a",null),h=b.exports},486:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return O}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-8 lg:w-3/4 lg:mx-auto"},[1===this.steps?a("div",[a("p",{staticClass:"text-green-500"},[t._v("QUOTATION")]),a("hr"),a("form",{on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}}},[a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Purpose Of Travel")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quote.purpose_of_travel,expression:"quote.purpose_of_travel"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.quote.purpose_of_travel},on:{input:function(e){e.target.composing||t.$set(t.quote,"purpose_of_travel",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Booking Type ")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.quote.booking_type_id,expression:"quote.booking_type_id",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.quote,"booking_type_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select Booking Type")]),t._l(t.bookingType,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name)+" ")])}))],2)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Email")]),a("input",{staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"email",readonly:"",required:""},domProps:{value:t.user.email}})])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Phone")]),a("input",{staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"tel",required:""},domProps:{value:t.user.phone},on:{input:function(e){return t.validatePhoneNumber(e.target.value)}}}),a("span",{staticClass:"block py-1.5 text-red-500 text-sm"},[t._v(t._s(t.error.phone))])]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Date Of Birth")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quote.dob,expression:"quote.dob"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",max:this.today,required:""},domProps:{value:t.quote.dob},on:{input:function(e){e.target.composing||t.$set(t.quote,"dob",e.target.value)}}}),2===t.quote.booking_type_id?a("span",{staticClass:"block py-1.5 text-red-500 text-sm"},[t._v("* The dob of the oldest member")]):t._e()]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Departure Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quote.cover_begins,expression:"quote.cover_begins"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 cursor-pointer w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",min:this.today,required:""},domProps:{value:t.quote.cover_begins},on:{input:function(e){e.target.composing||t.$set(t.quote,"cover_begins",e.target.value)}}})])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Arrival Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quote.cover_ends,expression:"quote.cover_ends"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 cursor-pointer w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",min:t.quote.cover_begins,disabled:""===t.quote.cover_begins,required:""},domProps:{value:t.quote.cover_ends},on:{input:function(e){e.target.composing||t.$set(t.quote,"cover_ends",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Country ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.quote.country_id,expression:"quote.country_id"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.quote,"country_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select Country")]),t._l(t.countries,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name)+" ")])}))],2)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Round Trip ")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.quote.is_round_trip,expression:"quote.is_round_trip",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.quote,"is_round_trip",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select Booking Type")]),a("option",{attrs:{value:"false"}},[t._v("No")]),a("option",{attrs:{value:"true"}},[t._v("Yes")])])])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[2===t.quote.booking_type_id?a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Number Of People")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quote.no_of_people,expression:"quote.no_of_people",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"number",required:""},domProps:{value:t.quote.no_of_people},on:{input:function(e){e.target.composing||t.$set(t.quote,"no_of_people",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]):t._e(),2===t.quote.booking_type_id?a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Number Of Children")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quote.no_of_children,expression:"quote.no_of_children",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.quote.no_of_children},on:{input:function(e){e.target.composing||t.$set(t.quote,"no_of_children",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),2===t.quote.booking_type_id?a("span",{staticClass:"block py-1.5 text-red-500 text-sm"},[t._v("* Any applicant with an age below 18 are considered has children")]):t._e()]):t._e()]),a("br"),a("hr"),a("div",{staticClass:"flex flex-col gap-6 lg:flex-row lg:flex-row-reverse lg:justify-between mt-6 pb-10"},[a("button",{staticClass:"bg-green-500 px-6 text-white py-2 rounded outline-none focus:outline-none block submit"},[t._v("Get Quote")]),a("router-link",{staticClass:"bg-gray-500 py-2 rounded text-white block px-6 text-center",attrs:{to:"/app/dashboard/buytravel/choose"}},[t._v(" Back ")])],1)])]):t._e(),1===t.quote.booking_type_id&&2===this.steps?a("SingleAllianzForm",{attrs:{next:this.next,steps:this.steps,back:this.back,quote:t.quote,details:this.quotedetails}}):t._l(t.totalNumber,(function(e){return a("div",{key:e},[t.steps===e+1?a("AllianzCompleteForm",{attrs:{next:t.next,steps:t.steps,back:t.back,details:t.quotedetails,quote:t.quote,index:e,familydata:t.familydata,totalNumber:t.totalNumber}}):t._e()],1)})),a("transition",{attrs:{name:"scale"}},[this.showQuote?a("PreviewQuote",{attrs:{close:this.close,next:this.next,steps:this.steps,details:this.quotedetails}}):t._e()],1)],2)},l=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-modal"},[a("div",{staticClass:"loading-modal w-full"},[a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"loader bg-white w-2/4 mx-auto rounded px-4 lg:px-8 pb-6 pt-4"},[a("div",{staticClass:"mt-6"},[t._m(0),a("div",{staticClass:"mt-4 "},[a("div",{},[a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Country")]),a("p",[t._v(t._s(this.details.country))])]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Depature Date")]),a("p",[t._v(t._s(this.details.cover_start))])]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Arrival Date")]),a("p",[t._v(t._s(this.details.cover_end))])])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Round Trip")]),a("p",[t._v(t._s(this.details.is_multi_trip))])]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("No Of People ")]),a("p",[t._v(t._s(this.details.no_people))])]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("No of Children")]),a("p",[t._v(t._s(this.details.no_children))])])])])]),a("div",{staticClass:"pt-6"},[a("hr"),t._m(1),a("div",{staticClass:"lg:ml-3"}),a("div",{staticClass:"mt-4"},[a("label",{staticClass:"font-bold"},[t._v("AMOUNT")]),a("p",[t._v(t._s(this.details.amount))])])]),a("div",{staticClass:"hidden lg:flex justify-between mt-10"},[a("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[a("a",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left mt-12 block text-center",on:{click:t.hide}},[a("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),t._v(" Back ")],1)]),a("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none",on:{click:t.callnext}},[t._v(" Continue "),a("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1)]),a("div",{staticClass:"block lg:hidden mt-10"},[a("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white py-2 rounded focus:outline-none",on:{click:t.callnext}},[t._v(" Continue "),a("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1),a("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[a("a",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left px-12 mt-12 block text-center",on:{click:t.hide}},[a("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),t._v(" Back ")],1)])])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex justify-between p-2.5"},[a("p",{staticClass:"text-green-500 font-bold"},[t._v("Travel Quote")]),a("div",{staticClass:" lg:w-3/4"},[a("hr",{staticClass:"mt-2"}),a("hr",{staticClass:"mt-2"}),a("hr",{staticClass:"mt-2 border-green-500 bg-green-500 border-2"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-6"},[a("div",{staticClass:"mt-4"})])}],o=a(9499),r=a(5353),u={components:{},props:["next","steps","close","details"],data(){return{error:{value:!1}}},directives:{onClickaway:o.u$},methods:{hide(){this.close()},callnext(){this.close(),this.next(this.steps)}},watch:{},computed:{...(0,r.aH)({vehicle_category_id:t=>t.vehicle_category_id,beneficiary:t=>t.beneficiary,underwriterId:t=>t.underwriter_id,data:t=>t.vehicle.chiResources})},mounted(){0==Object.keys(this.data).length&&this.getResources()}},d=u,c=a(1656),m=(0,c.A)(d,i,n,!1,null,"468f1566",null),p=m.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"mt-6",on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}}},[a("p",{staticClass:"text-green-500"},[t._v("COMPLETE FORM "+t._s(this.index))]),a("hr"),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Title")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.allianzdata.title_id,expression:"allianzdata.title_id",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{id:"title_id",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.allianzdata,"title_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select Title")]),t._l(t.title,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Surname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.lastname,expression:"allianzdata.lastname"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{id:"",type:"text"},domProps:{value:t.allianzdata.lastname},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"lastname",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Firstname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.firstname,expression:"allianzdata.firstname"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{id:"Telephone",type:"text"},domProps:{value:t.allianzdata.firstname},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"firstname",e.target.value)}}})])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Middle Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.middlename,expression:"allianzdata.middlename"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.middlename},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"middlename",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.email,expression:"allianzdata.email"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.email},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"email",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Phone No")]),a("input",{staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"tel"},domProps:{value:t.allianzdata.phone},on:{input:function(e){return t.validatePhoneNumber(e.target.value)}}}),a("span",{staticClass:"block py-1.5 text-red-500 text-sm"},[t._v(t._s(t.error.phone))])])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.allianzdata.gender_id,expression:"allianzdata.gender_id",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.allianzdata,"gender_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select Gender")]),t._l(t.genders,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Date Of Birth ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.dob,expression:"allianzdata.dob"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"date",required:""},domProps:{value:t.allianzdata.dob},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"dob",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Nationality ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.nationality,expression:"allianzdata.nationality"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.nationality},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"nationality",e.target.value)}}})])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("State Of Residence")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.allianzdata.state_id,expression:"allianzdata.state_id",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.allianzdata,"state_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select State Of Residence")]),t._l(t.states,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.address,expression:"allianzdata.address"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text"},domProps:{value:t.allianzdata.address},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"address",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("ZipCode ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.zip_code,expression:"allianzdata.zip_code"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.zip_code},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"zip_code",e.target.value)}}})])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Marital Status")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.allianzdata.marital_status_id,expression:"allianzdata.marital_status_id",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.allianzdata,"marital_status_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Marital Status")]),t._l(t.maritalstatus,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Ocupation")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.occupation,expression:"allianzdata.occupation"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.occupation},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"occupation",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Passport No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.passport_no,expression:"allianzdata.passport_no"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.passport_no},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"passport_no",e.target.value)}}})])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Pre Existing Medical Condition")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.pre_exisiting_medical_condition,expression:"allianzdata.pre_exisiting_medical_condition"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.allianzdata,"pre_exisiting_medical_condition",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Pre Existing Medical Condition")]),a("option",{domProps:{value:!0}},[t._v("Yes")]),a("option",{domProps:{value:!1}},[t._v("No")])])]),t.allianzdata.pre_exisiting_medical_condition?a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Medical Condition ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.medical_condition,expression:"allianzdata.medical_condition"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.medical_condition},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"medical_condition",e.target.value)}}})]):t._e()]),a("div",{staticClass:"pt-6"},[a("hr"),a("p",{staticClass:"text-green-500 pt-3"},[t._v("Next Of Kin")]),a("div",{staticClass:"mt-4 lg:flex"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("div",{staticClass:"lg:flex"}),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("FullName")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.next_of_kin_name,expression:"allianzdata.next_of_kin_name"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_name},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"next_of_kin_name",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Relationship")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.next_of_kin_relationship,expression:"allianzdata.next_of_kin_relationship"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_relationship},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"next_of_kin_relationship",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Telephone ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.next_of_kin_phone,expression:"allianzdata.next_of_kin_phone"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_phone},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"next_of_kin_phone",e.target.value)}}})])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.next_of_kin_address,expression:"allianzdata.next_of_kin_address"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_address},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"next_of_kin_address",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.address,expression:"allianzdata.address"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text"},domProps:{value:t.allianzdata.address},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"address",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("ZipCode ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.zip_code,expression:"allianzdata.zip_code"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.zip_code},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"zip_code",e.target.value)}}})])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Marital Status")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.allianzdata.marital_status_id,expression:"allianzdata.marital_status_id",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.allianzdata,"marital_status_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Marital Status")]),t._l(t.maritalstatus,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Ocupation")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.occupation,expression:"allianzdata.occupation"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.occupation},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"occupation",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Passport No")]),a("input",{staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.passport_no},on:{input:function(e){return t.validatePassportNo(e.target.value)}}}),a("span",{staticClass:"block py-1.5 text-red-500 text-sm"},[t._v(t._s(t.error.passportNo))])])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Pre Existing Medical Condition")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.pre_exisiting_medical_condition,expression:"allianzdata.pre_exisiting_medical_condition"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.allianzdata,"pre_exisiting_medical_condition",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Pre Existing Medical Condition")]),a("option",{domProps:{value:!0}},[t._v("Yes")]),a("option",{domProps:{value:!1}},[t._v("No")])])]),t.allianzdata.pre_exisiting_medical_condition?a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Medical Condition ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.medical_condition,expression:"allianzdata.medical_condition"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.medical_condition},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"medical_condition",e.target.value)}}})]):t._e()])])])]),a("div",{staticClass:"pt-6"},[a("hr"),a("p",{staticClass:"text-green-500 pt-3"},[t._v("Next Of Kin")]),a("div",{staticClass:"mt-4 lg:flex"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("div",{staticClass:"lg:flex"}),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("FullName")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.next_of_kin_name,expression:"allianzdata.next_of_kin_name"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_name},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"next_of_kin_name",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Relationship")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.next_of_kin_relationship,expression:"allianzdata.next_of_kin_relationship"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_relationship},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"next_of_kin_relationship",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Telephone ")]),a("input",{staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_phone},on:{input:function(e){return t.validatePhoneNumber(e.target.value)}}}),a("span",{staticClass:"block py-1.5 text-red-500 text-sm"},[t._v(t._s(t.error.phone))])])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.next_of_kin_address,expression:"allianzdata.next_of_kin_address"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_address},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"next_of_kin_address",e.target.value)}}})])])])])]),a("div",{staticClass:"hidden lg:flex justify-between mt-10"},[a("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[a("a",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left px-12 mt-12 block text-center",on:{click:t.previous}},[a("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),t._v(" Back ")],1)]),a("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none"},[t._v(" Next "),a("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1)]),a("div",{staticClass:"block lg:hidden mt-10"},[a("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none"},[t._v(" Next "),a("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1),a("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[a("a",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left px-12 mt-12 block text-center",on:{click:t.previous}},[a("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),t._v(" Back ")],1)])]),a("transition",{attrs:{name:"scale"}},[t.showMethodModal?a("PaymentMethod",{on:{useCard:t.payWithCard}}):t._e()],1),a("transition",{attrs:{name:"scale"}},[t.showReviewModal?a("ReviewModal",{attrs:{tett:"managetravel"}}):t._e()],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPaystack,expression:"showPaystack"}]},[a("Paystack",{ref:"paystackbutton",staticClass:" hidden mt-6 w-full bg-green-500 text-white py-2 rounded outline-none focus:outline-none",attrs:{amount:t.paystackData.amount,email:t.paystackData.email,paystackkey:t.paystackData.public_key,reference:t.paystackData.reference,callback:t.verifyPayment,close:t.closePayment,channels:t.paystackData.channels}})],1)],1)},g=[],_=(a(4114),a(9401)),v=a.n(_),b=a(2505),h=a.n(b),x=a(850),y=a(7797),w=a(6427),C={components:{Paystack:v(),PaymentMethod:y.A,ReviewModal:w.A},data(){return{paystackData:{public_key:"",email:"",amount:0,reference:""},error:{terms:!1,phone:""},showMethodModal:!1,travelId:0,showReviewModal:!1,qualified_vet:0,medicalcondition:!1,title:[],states:[],countries:[],showPaystack:!1,genders:[],maritalstatus:[],allianzdata:{firstname:"",lastname:"",middlename:"",email:"",phone:"",quote_id:0,gender_id:0,title_id:0,dob:"",state_id:0,address:"",zip_code:"",nationality:"",passport_no:"",occupation:"",marital_status_id:0,pre_exisiting_medical_condition:!1,medical_condition:"",next_of_kin_name:"",next_of_kin_address:"",next_of_kin_relationship:"",next_of_kin_phone:""}}},props:["next","steps","back","details","familydata","index","totalNumber","quote"],methods:{callnext(){this.next(this.steps)},previous(){this.back(this.steps)},getTitle(){h()({url:`${x.A}/titles`,method:"GET"}).then((t=>{console.log(this.user),this.title=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getStates(){h()({url:`${x.A}/states`,method:"GET"}).then((t=>{this.states=t.data.data.states,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getGender(){h()({url:`${x.A}/gender`,method:"GET"}).then((t=>{console.log(t),this.genders=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getCountries(){h()({url:`${x.A}/country`,method:"GET"}).then((t=>{this.countries=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getMaritalStatus(){h()({url:`${x.A}/marital-status`,method:"GET"}).then((t=>{this.maritalstatus=t.data.data,console.log(t),this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},validate(){console.log(this.totalNumber,this.steps);let t={firstname:this.user.firstname,lastname:this.user.lastname,middlename:this.allianzdata.middlename,email:this.allianzdata.email,enrollee_id:this.beneficiary.user_id,phone:this.allianzdata.phone,quote_id:this.details.travel_quote_id,gender_id:this.allianzdata.gender_id,title_id:this.allianzdata.title_id,dob:this.allianzdata.dob,state_id:this.allianzdata.state_id,address:this.allianzdata.address,zip_code:this.allianzdata.zip_code,nationality:this.allianzdata.nationality,passport_no:this.allianzdata.passport_no,occupation:this.allianzdata.occupation,marital_status_id:this.allianzdata.marital_status_id,pre_exisiting_medical_condition:this.allianzdata.pre_exisiting_medical_condition,medical_condition:this.allianzdata.medical_condition,next_of_kin_name:this.allianzdata.next_of_kin_name,next_of_kin_address:this.allianzdata.next_of_kin_address,next_of_kin_relationship:this.allianzdata.next_of_kin_relationship,next_of_kin_phone:this.allianzdata.next_of_kin_phone};1===this.quote.booking_type_id?(this.$store.commit("startLoading"),h()({url:`${x.A}/allianz/travel/policy`,data:t,method:"POST"}).then((t=>{console.log(t.data.data),this.travelId=t.data.data.user_travel_id,this.$store.commit("saveTravelId",t.data.data),this.initiatePayment(),this.$store.commit("endLoading")})).catch((t=>{this.$store.dispatch("handleError",t)}))):this.steps<this.totalNumber?(this.next(this.steps),this.familydata.push(t)):(this.familydata.push(t),this.$store.commit("startLoading"),h()({url:`${x.A}/allianz/travel/family/policy`,data:this.familydata,method:"POST"}).then((t=>{console.log(t.data.data),this.travelId=t.data.data.user_travel_id,this.$store.commit("saveTravelId",t.data.data),this.initiatePayment(),this.$store.commit("endLoading")})).catch((t=>{this.$store.dispatch("handleError",t)})))},initiatePayment(){if(!this.user.has_card)return this.payNow();this.showMethodModal=!0},payWithCard(t){this.showMethodModal=!1,"old"===t?this.$router.push("/app/dashboard/buytravel/4"):"new"===t&&(this.showMethodModal=!1,this.payNow())},payNow(){this.$store.commit("startLoading");let t={user_travel_id:this.travelId,card_id:0};console.log(t),h()({url:`${x.A}/travel/payment/init`,data:t,method:"POST"}).then((t=>{this.showPaystack=!0,this.paystackData=t.data.data,this.paystackData.channels=this.paystackChannels,this.$refs.paystackbutton.payWithPaystack(this.paystackData)})).catch((t=>{this.$store.dispatch("handleError",t)}))},verifyPayment(){h()({url:`${x.A}/travel/payment/verify`,data:{reference:this.paystackData.reference},method:"POST"}).then((t=>{this.$store.commit("endLoading"),this.$store.commit("setSuccess",{status:!0,msg:t.data.message}),this.showReviewModal=!0})).catch((t=>{this.$store.commit("endLoading"),this.$store.commit("setError",{status:!0,msg:t.response.data.message})}))},closePayment(){this.$store.commit("endLoading"),this.$store.commit("setError",{status:!0,msg:"Payment cancelled"})},validatePhoneNumber(t){this.allianzdata.phone=t;const e=t.replace(/\D/g,""),a=11;return e.length===a?(this.allianzdata.phone=t,this.error.phone=""):this.error.phone="Invalid Phone Number",e.length===a}},watch:{},computed:{...(0,r.aH)({beneficiary:t=>t.beneficiary,underwriterId:t=>t.underwriter_id,user:t=>t.user})},created(){console.log("User:",this.user)},mounted(){this.getGender(),this.getStates(),this.getTitle(),this.getMaritalStatus(),this.getCountries()}},k=C,z=(0,c.A)(k,f,g,!1,null,"456ffd9a",null),$=z.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"mt-6",on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}}},[a("p",{staticClass:"text-green-500"},[t._v("COMPLETE FORM "+t._s(this.index))]),a("hr"),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Title")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.allianzdata.title_id,expression:"allianzdata.title_id",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{id:"title_id",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.allianzdata,"title_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select Title")]),t._l(t.title,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Surname")]),a("input",{staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{id:"",type:"text"},domProps:{value:""===t.allianzdata.lastname?t.user.lastname:t.allianzdata.lastname},on:{change:function(e){return t.allianzdata.lastname=e.target.value}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Firstname")]),a("input",{staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{id:"Telephone",type:"text"},domProps:{value:""===t.allianzdata.firstname?t.user.firstname:t.allianzdata.firstname},on:{change:function(e){return t.allianzdata.firstname=e.target.value}}})])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"}),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Middle Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.middlename,expression:"allianzdata.middlename"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.middlename},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"middlename",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.allianzdata.gender_id,expression:"allianzdata.gender_id",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.allianzdata,"gender_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select Gender")]),t._l(t.genders,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Nationality ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.nationality,expression:"allianzdata.nationality"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.nationality},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"nationality",e.target.value)}}})])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("State Of Residence")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.allianzdata.state_id,expression:"allianzdata.state_id",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.allianzdata,"state_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select State Of Residence")]),t._l(t.states,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Address")]),a("input",{staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text"},domProps:{value:""===t.allianzdata.address?t.user.address:t.allianzdata.address},on:{change:function(e){return t.allianzdata.address=e.target.value}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("ZipCode ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.zip_code,expression:"allianzdata.zip_code"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.zip_code},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"zip_code",e.target.value)}}})])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Marital Status")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.allianzdata.marital_status_id,expression:"allianzdata.marital_status_id",modifiers:{number:!0}}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.allianzdata,"marital_status_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Marital Status")]),t._l(t.maritalstatus,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Occupation")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.occupation,expression:"allianzdata.occupation"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.occupation},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"occupation",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Passport No")]),a("input",{staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.passport_no},on:{input:function(e){return t.validatePassportNo(e.target.value)}}}),a("span",{staticClass:"block py-1.5 text-red-500 text-sm"},[t._v(t._s(t.error.passportNo))])])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Pre Existing Medical Condition")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.pre_exisiting_medical_condition,expression:"allianzdata.pre_exisiting_medical_condition"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.allianzdata,"pre_exisiting_medical_condition",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Pre Existing Medical Condition")]),a("option",{domProps:{value:!0}},[t._v("Yes")]),a("option",{domProps:{value:!1}},[t._v("No")])])]),t.allianzdata.pre_exisiting_medical_condition?a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Medical Condition ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.medical_condition,expression:"allianzdata.medical_condition"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.medical_condition},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"medical_condition",e.target.value)}}})]):t._e()]),a("div",{staticClass:"pt-6"},[a("hr"),a("p",{staticClass:"text-green-500 pt-3"},[t._v("Next Of Kin")]),a("div",{staticClass:"mt-4 lg:flex"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("div",{staticClass:"lg:flex"}),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("FullName")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.next_of_kin_name,expression:"allianzdata.next_of_kin_name"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_name},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"next_of_kin_name",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Relationship")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.next_of_kin_relationship,expression:"allianzdata.next_of_kin_relationship"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_relationship},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"next_of_kin_relationship",e.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Telephone ")]),a("input",{staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_phone},on:{input:function(e){return t.validatePhoneNumber(e.target.value)}}}),a("span",{staticClass:"block py-1.5 text-red-500 text-sm"},[t._v(t._s(t.error.phone))])])]),a("div",{staticClass:"mt-4 lg:flex lg:justify-between"},[a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.allianzdata.next_of_kin_address,expression:"allianzdata.next_of_kin_address"}],staticClass:"block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",attrs:{type:"text",required:""},domProps:{value:t.allianzdata.next_of_kin_address},on:{input:function(e){e.target.composing||t.$set(t.allianzdata,"next_of_kin_address",e.target.value)}}})])])])])]),a("div",{staticClass:"hidden lg:flex justify-between mt-10"},[a("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[a("a",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left px-12 mt-12 block text-center",on:{click:t.previous}},[a("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),t._v(" Back ")],1)]),a("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none"},[t._v(" Next "),a("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1)]),a("div",{staticClass:"block lg:hidden mt-10"},[a("button",{staticClass:"block w-full lg:w-auto lg:float-right bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none"},[t._v(" Next "),a("font-awesome-icon",{staticClass:"ml-3",attrs:{icon:"arrow-right"}})],1),a("button",{staticClass:"block w-full lg:w-auto lg:float-left py-2 rounded focus:outline-none"},[a("a",{staticClass:"w-full lg:w-auto text-green-500 lg:float-left px-12 mt-12 block text-center",on:{click:t.previous}},[a("font-awesome-icon",{staticClass:"mr-8",attrs:{icon:"arrow-left"}}),t._v(" Back ")],1)])]),a("transition",{attrs:{name:"scale"}},[t.showMethodModal?a("PaymentMethod",{on:{useCard:t.payWithCard}}):t._e()],1),a("transition",{attrs:{name:"scale"}},[t.showReviewModal?a("ReviewModal",{attrs:{tett:"managetravel"},on:{useCard:t.payWithCard}}):t._e()],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPaystack,expression:"showPaystack"}]},[a("Paystack",{ref:"paystackbutton",staticClass:" hidden mt-6 w-full bg-green-500 text-white py-2 rounded outline-none focus:outline-none",attrs:{amount:t.paystackData.amount,email:t.paystackData.email,paystackkey:t.paystackData.public_key,reference:t.paystackData.reference,callback:t.verifyPayment,close:t.closePayment,channels:t.paystackData.channels}})],1)],1)},q=[],N={components:{Paystack:v(),PaymentMethod:y.A,ReviewModal:w.A},data(){return{paystackData:{public_key:"",email:"",amount:0,reference:""},error:{terms:!1,phone:"",passportNo:""},showMethodModal:!1,travelId:0,showReviewModal:!1,qualified_vet:0,medicalcondition:!1,title:[],states:[],countries:[],showPaystack:!1,genders:[],maritalstatus:[],allianzdata:{firstname:"",lastname:"",middlename:"",email:"",phone:"",quote_id:0,gender_id:0,title_id:0,dob:"",state_id:0,address:"",zip_code:"",nationality:"",passport_no:"",occupation:"",marital_status_id:0,pre_exisiting_medical_condition:!1,medical_condition:"",next_of_kin_name:"",next_of_kin_address:"",next_of_kin_relationship:"",next_of_kin_phone:""}}},props:["next","steps","back","details","familydata","index","totalNumber","quote"],methods:{callnext(){this.next(this.steps)},previous(){this.back(this.steps)},getTitle(){h()({url:`${x.A}/titles`,method:"GET"}).then((t=>{console.log(this.user),this.title=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getStates(){h()({url:`${x.A}/states`,method:"GET"}).then((t=>{this.states=t.data.data.states,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getGender(){h()({url:`${x.A}/gender`,method:"GET"}).then((t=>{console.log(t),this.genders=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getCountries(){h()({url:`${x.A}/country`,method:"GET"}).then((t=>{this.countries=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getMaritalStatus(){h()({url:`${x.A}/marital-status`,method:"GET"}).then((t=>{this.maritalstatus=t.data.data,console.log(t),this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},validate(){console.log(this.totalNumber,this.steps);let t={firstname:""===this.allianzdata.firstname?this.user.firstname:this.allianzdata.firstname,lastname:""===this.allianzdata.lastname?this.user.lastname:this.allianzdata.lastname,middlename:this.allianzdata.middlename,email:this.user.email,phone:this.quote.phone,enrollee_id:this.user.enrollee_id,quote_id:this.details.travel_quote_id,gender_id:this.allianzdata.gender_id,title_id:this.allianzdata.title_id,dob:this.quote.dob,state_id:this.allianzdata.state_id,address:""===this.allianzdata.address?this.user.address:this.allianzdata.address,zip_code:this.allianzdata.zip_code,nationality:this.allianzdata.nationality,passport_no:this.allianzdata.passport_no,occupation:this.allianzdata.occupation,marital_status_id:this.allianzdata.marital_status_id,pre_exisiting_medical_condition:this.allianzdata.pre_exisiting_medical_condition,medical_condition:this.allianzdata.medical_condition,next_of_kin_name:this.allianzdata.next_of_kin_name,next_of_kin_address:this.allianzdata.next_of_kin_address,next_of_kin_relationship:this.allianzdata.next_of_kin_relationship,next_of_kin_phone:this.allianzdata.next_of_kin_phone};1===this.quote.booking_type_id?(this.$store.commit("startLoading"),h()({url:`${x.A}/allianz/travel/policy`,data:t,method:"POST"}).then((t=>{console.log(t.data.data),this.travelId=t.data.data.user_travel_id,this.$store.commit("saveTravelId",t.data.data),this.initiatePayment(),this.$store.commit("endLoading")})).catch((t=>{this.$store.dispatch("handleError",t)}))):this.steps<this.totalNumber?(this.next(this.steps),this.familydata.push(t)):(this.familydata.push(t),this.$store.commit("startLoading"),h()({url:`${x.A}/allianz/travel/family/policy`,data:this.familydata,method:"POST"}).then((t=>{console.log(t.data.data),this.travelId=t.data.data.user_travel_id,this.$store.commit("saveTravelId",t.data.data),this.initiatePayment(),this.$store.commit("endLoading")})).catch((t=>{this.$store.dispatch("handleError",t)})))},initiatePayment(){if(!this.user.has_card)return this.payNow();this.showMethodModal=!0},payWithCard(t){this.showMethodModal=!1,"old"===t?this.$router.push("/app/dashboard/buytravel/4"):"new"===t&&(this.showMethodModal=!1,this.payNow())},payNow(){this.$store.commit("startLoading");let t={user_travel_id:this.travelId,card_id:0};console.log(t),h()({url:`${x.A}/travel/payment/init`,data:t,method:"POST"}).then((t=>{this.showPaystack=!0,this.paystackData=t.data.data,this.paystackData.channels=this.paystackChannels,this.$refs.paystackbutton.payWithPaystack(this.paystackData)})).catch((t=>{this.$store.dispatch("handleError",t)}))},verifyPayment(){h()({url:`${x.A}/travel/payment/verify`,data:{reference:this.paystackData.reference},method:"POST"}).then((t=>{this.$store.commit("endLoading"),this.$store.commit("setSuccess",{status:!0,msg:t.data.message}),this.showReviewModal=!0})).catch((t=>{this.$store.commit("endLoading"),this.$store.commit("setError",{status:!0,msg:t.response.data.message})}))},closePayment(){this.$store.commit("endLoading"),this.$store.commit("setError",{status:!0,msg:"Payment cancelled"})},validatePhoneNumber(t){this.allianzdata.next_of_kin_phone=t;const e=t.replace(/\D/g,""),a=11;return e.length===a?(this.allianzdata.phone=t,this.error.phone=""):this.error.phone="Invalid Phone Number",e.length===a},validatePassportNo(t){const e=/^[A-Za-z][0-9]{8}$/i;e.test(t)?(this.allianzdata.passport_no=t.toUpperCase(),this.error.passportNo=""):(this.allianzdata.passport_no="",this.error.passportNo="Invalid Passport Number")}},watch:{},computed:{...(0,r.aH)({beneficiary:t=>t.beneficiary,underwriterId:t=>t.underwriter_id,user:t=>t.user})},created(){console.log("User:",this.user,"beneficiary:",this.beneficiary)},mounted(){this.getGender(),this.getStates(),this.getTitle(),this.getMaritalStatus(),this.getCountries()}},S=N,E=(0,c.A)(S,P,q,!1,null,"72383716",null),A=E.exports,M={components:{SingleAllianzForm:A,AllianzCompleteForm:$,PreviewQuote:p},data(){return{showQuote:!1,countries:[],bookingType:[],steps:1,error:{terms:!1,phone:""},today:new Date,quote:{underwriter_id:0,user_id:0,dob:"",email:"",telephone:"",cover_begins:"",cover_ends:"",country_id:"",purpose_of_travel:"",booking_type_id:0,is_round_trip:!1,no_of_people:0,no_of_children:0},quotedetails:{},familydata:[],totalNumber:0}},computed:{...(0,r.aH)({user:t=>t.user,underwriter_id:t=>t.underwriter_id,beneficiary:t=>t.beneficiary})},methods:{close(){this.showQuote=!1},next(t){this.steps=t+1},back(t){this.steps=t-1},formttedDate(){const t=new Date,e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return console.log(`${e}-${a}-${s}`),this.today=`${e}-${a}-${s}`,`${e}-${a}-${s}`},validatePhoneNumber(t){this.quote.telephone=t;const e=t.replace(/\D/g,""),a=11;return e.length===a?(this.quote.telephone=t,this.error.phone=""):this.error.phone="Invalid Phone Number",e.length===a},validate(){this.totalNumber=this.quote.no_of_people+this.quote.no_of_children+1;let t={underwriter_id:this.underwriter_id,user_id:this.user.user_id,dob:this.quote.dob,email:this.user.email,telephone:this.user.phone,cover_begins:this.quote.cover_begins,cover_ends:this.quote.cover_ends,country_id:JSON.stringify(this.quote.country_id),purpose_of_travel:this.quote.purpose_of_travel,booking_type_id:this.quote.booking_type_id,is_round_trip:"true"===this.quote.is_round_trip,no_of_people:1!==this.quote.booking_type_id?this.quote.no_of_people:1,no_of_children:this.quote.no_of_children};this.$store.commit("startLoading"),h()({url:`${x.A}/allianz/travel/quote`,data:t,method:"POST"}).then((t=>{console.log(t.data.data),this.quotedetails=t.data.data,this.showQuote=!0,this.$store.commit("endLoading")})).catch((t=>{this.$store.dispatch("handleError",t)}))},getCountries(){h()({url:`${x.A}/country`,method:"GET"}).then((t=>{this.countries=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},getBookingType(){h()({url:`${x.A}/travel-category`,method:"GET"}).then((t=>{this.bookingType=t.data.data,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))},closePayment(){this.$store.commit("endLoading"),this.$store.commit("setError",{status:!0,msg:"Payment cancelled"})}},mounted(){this.getBookingType(),this.getCountries(),this.formttedDate()}},T=M,L=(0,c.A)(T,s,l,!1,null,"22275c0a",null),O=L.exports},9401:function(t){!function(e,a){t.exports=a()}(window,(function(){return a={},t.m=e=[function(t,e,a){"use strict";a.r(e);var s,l,i,n,o,r,u,d,c,m,p;n=!(i=[]),u=r=o=null,p="function"==typeof(s={props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,required:!0},email:{type:String,required:!0},firstname:{type:String,default:""},lastname:{type:String,default:""},amount:{type:Number,required:!0},reference:{type:String,required:!0},channels:{type:Array,default:function(){return["card","bank"]}},accessCode:{type:String,default:""},callback:{type:Function,required:!0,default:function(){}},close:{type:Function,required:!0,default:function(){}},metadata:{type:Object,default:function(){return{}}},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:String,default:""},subaccount:{type:String,default:""},split:{type:Object,default:function(){return{}}},splitCode:{type:String,default:""},transactionCharge:{type:Number,default:0},bearer:{type:String,default:""}},data:function(){return{scriptLoaded:null}},created:function(){var t=this;this.scriptLoaded=new Promise((function(e){t.loadScript((function(){e()}))}))},mounted:function(){this.embed&&this.payWithPaystack()},methods:{loadScript:function(t){var e=document.createElement("script");e.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(e),e.readyState?e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onreadystatechange=null,t())}:e.onload=function(){t()}},isDynamicSplit:function(){return this.split.constructor===Object&&0<Object.keys(this.split).length},payWithPaystack:function(){var t=this;this.scriptLoaded&&this.scriptLoaded.then((function(){var e={key:t.paystackkey,email:t.email,firstname:t.firstname,lastname:t.lastname,channels:t.channels,amount:t.amount,access_code:t.accessCode,ref:t.reference,callback:function(e){t.callback(e)},onClose:function(){t.close()},metadata:t.metadata,currency:t.currency,plan:t.plan,quantity:t.quantity,subaccount:t.isDynamicSplit()?"":t.subaccount,split:t.isDynamicSplit()?t.split:null,split_code:t.isDynamicSplit()?"":t.splitCode,transaction_charge:t.isDynamicSplit()?0:t.transactionCharge,bearer:t.isDynamicSplit()?"":t.bearer};t.embed&&(e.container="paystackEmbedContainer"),e=window.PaystackPop.setup(e),t.embed||e.openIframe()}))}}})?s.options:s,(l=function(){var t=this,e=t._self._c||t.$createElement;return t.embed?e("div",{attrs:{id:"paystackEmbedContainer"}}):e("button",{staticClass:"payButton",on:{click:t.payWithPaystack}},[t._t("default",[t._v("Make Payment")])],2)})&&(p.render=l,p.staticRenderFns=i,p._compiled=!0),n&&(p.functional=!0),r&&(p._scopeId="data-v-"+r),u?p._ssrRegister=c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(u)}:o&&(c=d?function(){o.call(this,(p.functional?this.parent:this).$root.$options.shadowRoot)}:o),c&&(p.functional?(p._injectStyles=c,m=p.render,p.render=function(t,e){return c.call(e),m(t,e)}):p.beforeCreate=(d=p.beforeCreate)?[].concat(d,c):[c]),a={exports:s,options:p};e.default=a.exports}],t.c=a,t.d=function(e,a,s){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:s})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var l in e)t.d(s,l,function(t){return e[t]}.bind(null,l));return s},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="/dist/",t(t.s=0);function t(s){if(a[s])return a[s].exports;var l=a[s]={i:s,l:!1,exports:{}};return e[s].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var e,a}))},7267:function(t,e,a){"use strict";t.exports=a.p+"img/ratingimage.1c8c5fbc.svg"}}]);
//# sourceMappingURL=486.d9ac1f84.js.map