"use strict";(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[6260],{6260:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative"},[s("NavBar",{}),s("section",{staticClass:"bg-white px-6 lg:pr-12 lg:pl-0"},[s("div",{staticClass:"lg:flex lg:justify-between lg:pt-12 lg:items-start flexcont"},[t._m(0),s("form",{staticClass:"w-full lg:ml-40 mt-12 lg:mt-0 text-center",on:{submit:function(e){return e.preventDefault(),t.validateForm.apply(null,arguments)}}},[s("h1",{staticClass:"text-army text-3xl lg:text-5xl font-extrabold text-center"},[t._v("Reset Password")]),t.step2?s("div",{staticClass:"mt-4 text-center"},[s("button",{staticClass:"mt-4 text-sm cursor-pointer  block text-left focus:outline-none",attrs:{type:"button"},on:{click:function(e){t.step2=!1}}},[s("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"arrow-left"}}),t._v(" Back")],1),s("label",{staticClass:"mt-6 text-army font-bold  block text-left"},[t._v("Enter new password")]),s("div",{staticClass:"mt-2 w-full  rounded relative"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"password",staticClass:"w-full py-2 px-3 rounded outline-none bg-white focus:outline-none border border-gray-200 focus:ring-1 focus:ring-army focus:border-transparent",attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.showEye?s("font-awesome-icon",{staticClass:"absolute eye text-gray-500",attrs:{icon:"eye"},on:{click:t.showPassword}}):s("font-awesome-icon",{staticClass:"absolute eye text-gray-500",attrs:{icon:"eye-slash"},on:{click:t.hidePassword}})],1),t.error.password?s("p",{staticClass:"text-red-500 text-sm mt-2 lg:w-4/5 lg:mx-auto block text-left"},[t._v("Your password should contain at least 8 characters (at least one uppercase, one lowercase, one special character and one number)")]):t._e(),s("button",{staticClass:"mt-10 outline-none bg-army py-2 rounded w-full text-white focus:outline-none"},[t._v("Sign up")])]):s("div",[s("p",{staticClass:"mt-4 text-center"},[t._v("Enter the OTP sent to your mail")]),s("div",{staticClass:"mt-6 flex justify-between item-center mx-auto w-3/5 lg:w-2/5 otps"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.digit1,expression:"digit1"}],ref:"d1",staticClass:"bg-white outline-none border border-gray-200 focus:outline-none focus:ring-1 focus:ring-army focus:border-transparent",attrs:{type:"text",id:"d1",maxlength:"1",required:""},domProps:{value:t.digit1},on:{keyup:t.keyMonitor,input:function(e){e.target.composing||(t.digit1=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.digit2,expression:"digit2"}],ref:"d2",staticClass:"bg-white outline-none border border-gray-200 focus:outline-none focus:ring-1 focus:ring-army focus:border-transparent",attrs:{type:"text",id:"d2",maxlength:"1",required:""},domProps:{value:t.digit2},on:{keyup:t.keyMonitor,input:function(e){e.target.composing||(t.digit2=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.digit3,expression:"digit3"}],ref:"d3",staticClass:"bg-white outline-none border border-gray-200 focus:outline-none focus:ring-1 focus:ring-army focus:border-transparent",attrs:{type:"text",id:"d3",maxlength:"1",required:""},domProps:{value:t.digit3},on:{keyup:t.keyMonitor,input:function(e){e.target.composing||(t.digit3=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.digit4,expression:"digit4"}],ref:"d4",staticClass:"bg-white outline-none border border-gray-200 focus:outline-none focus:ring-1 focus:ring-army focus:border-transparent",attrs:{type:"text",id:"d4",maxlength:"1",required:""},domProps:{value:t.digit4},on:{keyup:t.keyMonitor,input:function(e){e.target.composing||(t.digit4=e.target.value)}}})]),s("p",{staticClass:"text-red-500 mt-4 text-center"},[t._v(t._s(t.errorMsg))]),s("div",{staticClass:"mt-4"},[s("a",{staticClass:"text-army mt-8 md:mt-0 text-sm cursor-pointer",on:{click:t.resend}},[t._v("Resend OTP")])]),t.error.otp?s("button",{staticClass:"mt-10 rounded focus:outline-none bg-army py-2 w-full lg:mx-auto lg:w-4/5 text-white opacity-50"},[t._v("Proceed")]):s("button",{staticClass:"mt-10 rounded focus:outline-none bg-army py-2 w-full lg:mx-auto lg:w-4/5 text-white",on:{click:function(e){t.step2=!0}}},[t._v("Proceed")])])])])])],1)},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hidden mt-20 lg:mt-0 w-full lg:block "},[o("h1",{staticClass:"text-dark font-extrabold text-4xl"},[t._v("Pay as you go insurance you control.")]),o("p",{staticClass:"mt-6 text-charcoal font-medium text-base"},[t._v("You can use PaddyCover to get monthly Home Content Insurance from as low as N250 per week OR monthly Vehicle Insurance")]),o("div",{staticClass:"mt-8"},[o("img",{staticClass:"block w-full",attrs:{src:s(4848),alt:"map-img"}})])])}],a=(s(4114),s(8907)),i=s(850),n=s(2505),d=s.n(n),l={components:{NavBar:a.A},data(){return{errorMsg:"",digit1:"",digit2:"",digit3:"",digit4:"",password:"",step2:!1,showEye:!0,error:{otp:!0,password:!1}}},methods:{validateForm(){Object.values(this.error).includes(!0)||(this.$store.commit("startLoading"),d()({url:`${i.A}/password/reset`,data:{otp:this.otp,password:this.password},method:"POST"}).then((t=>{this.$store.commit("endLoading"),"success, password reset successfull"==t.data.message&&this.$store.commit("setSuccess",{status:!0,msg:"Password reset successfull"}),this.$router.push("/login")})).catch((t=>{this.$store.commit("endLoading"),t.response&&(this.$store.commit("setError",{status:!0,msg:t.response.data.message}),t.response.data.message,this.errorMsg="Invalid OTP")})))},resend(){d()({url:`${i.A}/otp/resend`,data:{email:this.$route.query.email},method:"POST"}).then((t=>{console.log(t),this.$store.commit("setSuccess",{status:!0,msg:"OTP resent"})})).catch((t=>{this.$store.commit("endLoading"),t.response&&this.$store.commit("setError",{status:!0,msg:t.response.data.message})}))},keyMonitor(t){"Backspace"==t.key||"Delete"==t.key?this.del(t.target.id):this.next(t.target.id)},next(t){"d1"==t?this.$refs.d2.focus():"d2"==t?this.$refs.d3.focus():"d3"==t&&this.$refs.d4.focus()},del(t){"d1"==t?this.$refs.d1.value="":"d2"==t?(this.$refs.d2.value="",this.$refs.d1.focus()):"d3"==t?(this.$refs.d3.value="",this.$refs.d2.focus()):"d4"==t&&(this.$refs.d4.value="",this.$refs.d3.focus())},showPassword(){this.$refs.password.type="text",this.showEye=!1},hidePassword(){this.$refs.password.type="password",this.showEye=!0}},computed:{otp(){return this.digit1.concat(this.digit2,this.digit3,this.digit4)}},watch:{password(){/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*#?&^])[A-Za-z\d@$!%*#?&^]{8,}$/.test(this.password)?this.error.password=!1:this.error.password=!0},otp(){4!==this.otp.length?this.error.otp=!0:this.error.otp=!1}},created(){1==this.$store.state.homeCollapse&&this.$store.commit("setHomeCollapse",!1)}},c=l,u=s(1656),m=(0,u.A)(c,o,r,!1,null,"c381234e",null),p=m.exports},4848:function(t,e,s){t.exports=s.p+"img/map.1bb2f3ed.png"}}]);
//# sourceMappingURL=6260.ecf93f55.js.map