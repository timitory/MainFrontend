(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[1134],{968:function(e,t,a){"use strict";a.d(t,{A:function(){return u}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l-modal"},[a("div",{staticClass:"loading-modal w-full"},[a("div",{staticClass:"loader bg-white w-4/5 mx-auto rounded px-4 lg:px-8 pb-6"},[a("div",{staticClass:"pt-6 relative"},[a("div",{staticClass:"py-4"},[a("h1",{staticClass:"font-bold text-xl text-center"},[e._v("Pay with existing card or use a new card?")]),a("div",{staticClass:"mt-8 md:flex md:w-3/4 md:mx-auto md:items-center gap-6",staticStyle:{"min-width":"300px"}},[a("button",{staticClass:"focus:outline-none block w-full rounded border border-solid border-green-500 text-green-500 text-white md:px-3 py-2",on:{click:e.useOldCard}},[e._v("Use added card")]),a("button",{staticClass:"mt-4 md:mt-0 block w-full focus:outline-none rounded border border-solid border-blue-500 text-blue-500 text-white md:px-3 py-2",on:{click:e.useNewCard}},[e._v("Use new card")])])])])])])])},o=[],i={data(){return{}},methods:{close(){this.$emit("close")},useOldCard(){this.$emit("useCard","old")},useNewCard(){this.$emit("useCard","new")}}},n=i,r=a(1656),l=(0,r.A)(n,s,o,!1,null,"f717a648",null),u=l.exports},6427:function(e,t,a){"use strict";a.d(t,{A:function(){return b}});var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"l-modal"},[s("div",{staticClass:"loading-modal w-full"},[s("div",{staticClass:"loader bg-white w-4/5 mx-auto rounded px-4 lg:px-8 pb-6"},[s("div",{staticClass:"pt-6 relative"},[s("div",{},[s("img",{staticClass:" mx-auto w-3/5 img",attrs:{src:a(7267),alt:""}}),e._m(0),s("StarRating",{staticClass:"text-center",attrs:{value:"0"}}),s("div",{staticClass:"mt-4"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{rows:"5",placeholder:" Leave a comment",required:""},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})]),s("div",[s("button",{staticClass:"block w-full bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none",attrs:{type:"button"},on:{click:e.submitReview}},[e._v(" Submit ")])]),s("div",[s("button",{staticClass:"block w-full mt-2 text-dark bg-gray-100 px-12 py-2 rounded focus:outline-none",on:{click:e.viewpolicy}},[e._v(" View Policy ")])])],1)])])])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"text-center pt-4 pb-8"},[e._v("How likely would you recommend PADDYCOVER "),a("br"),e._v(" to your friends?")])}],i=(a(4114),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"star-rating"},e._l(e.ratings,(function(t){return a("label",{key:t.index,staticClass:"star-rating__star",class:{"is-selected":e.temp_value>=t&&null!=e.temp_value,"is-disabled":e.disabled},on:{click:function(a){return e.set(t)},mouseover:function(a){return e.star_over(t)},mouseout:e.star_out}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.temp_value,expression:"temp_value"}],staticClass:"star-rating star-rating__checkbox",attrs:{type:"radio",name:e.name,disabled:e.disabled},domProps:{value:t,checked:e._q(e.temp_value,t)},on:{change:function(a){e.temp_value=t}}}),e._v("â˜…")])})),0)}),n=[],r={props:{name:String,value:null,id:String,disabled:Boolean,required:Boolean},data:function(){return{temp_value:null,temp_value2:null,ratings:[1,2,3,4,5]}},mounted(){this.temp_value=this.value},computed:{},methods:{star_over:function(e){this.disabled||(this.temp_value=e)},star_out:function(){this.disabled||(this.temp_value=this.temp_value2)},set:function(e){this.disabled||(this.temp_value=e,this.temp_value2=e,console.log(this.temp_value),this.$store.commit("setRating",this.temp_value))}}},l=r,u=a(1656),d=(0,u.A)(l,i,n,!1,null,"55418331",null),c=d.exports,p=a(2505),m=a.n(p),h=a(7816),f=a(5353),v={components:{StarRating:c},props:[close,"tett"],data(){return{value:this.value,message:""}},computed:{...(0,f.aH)({ratings:e=>e.ratings})},methods:{viewpolicy(){"/pet/managepet"===this.tett||"/gadget/managegadget"===this.tett?this.$router.push(this.tett):this.$router.push(`/app/dashboard/${this.tett}`)},submitReview(){this.$store.commit("startLoading");const e={message:this.message,rating:this.ratings};console.log(e),m()({url:`${h.A}/feedback `,data:e,method:"POST"}).then((e=>{this.$store.commit("endLoading"),this.$router.push(`/app/dashboard/${this.tett}`),console.log(e.data)})).catch((e=>{this.$store.dispatch("handleError",e)}))}}},_=v,g=(0,u.A)(_,s,o,!1,null,"8179001a",null),b=g.exports},1134:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Z}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-6"},[a("div",{staticClass:"lg:w-3/4 lg:mx-auto"},[a("p",{staticClass:"font-bold text-lg"},[e._v("Biodata Form")]),1===e.underwriterId?a("ChiForm"):e._e()],1)])},o=[],i=a(5353),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["family"==e.plan.category?a("family",{on:{buyPolicy:e.buyFamily}}):a("individual",{on:{buyPolicy:e.buyHMO}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPaystack,expression:"showPaystack"}]},[a("Paystack",{ref:"paystackbutton",staticClass:" hidden mt-6 w-full bg-green-500 text-white py-2 rounded outline-none focus:outline-none",attrs:{amount:e.paystackData.amount,email:e.paystackData.email,paystackkey:e.paystackData.public_key,reference:e.paystackData.reference,subaccount:e.paystackData.subaccount,transactionCharge:e.paystackData.transactionCharge,callback:e.verifyPayment,close:e.closePayment}})],1),a("transition",{attrs:{name:"scale"}},[e.showMethodModal?a("PaymentMethod",{on:{useCard:e.payWithCard}}):e._e()],1),a("transition",{attrs:{name:"scale"}},[e.showReviewModal?a("ReviewModal",{attrs:{close:e.closeReview,tett:e.managehealth},on:{useCard:e.payWithCard}}):e._e()],1)],1)},r=[],l=(a(4114),a(2505)),u=a.n(l),d=a(7816),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{name:"slide"}},[1==e.step?a("Form1",{on:{submitForm1:e.saveForm1}}):e._e()],1),a("transition",{attrs:{name:"slide"}},[2==e.step?a("Form2",{on:{submitForm2:e.saveForm2}}):e._e()],1)],1)},p=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"mt-6",on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[a("div",{staticClass:"grid gap-4 md:grid-cols-2 md:gap-6"},[a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Surname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.surname,expression:"surname"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.surname},on:{input:function(t){t.target.composing||(e.surname=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Firstname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.firstname,expression:"firstname"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.firstname},on:{input:function(t){t.target.composing||(e.firstname=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Other name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.othername,expression:"othername"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.othername},on:{input:function(t){t.target.composing||(e.othername=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"email",placeholder:"",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Phone 1")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.telephone_1,expression:"telephone_1"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.telephone_1},on:{input:function(t){t.target.composing||(e.telephone_1=t.target.value)}}}),e.error.phone1?a("p",{staticClass:"text-red-500 text-sm mt-2"},[e._v("Please enter a valid phone number")]):e._e()]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Phone 2")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.telephone_2,expression:"telephone_2"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:""},domProps:{value:e.telephone_2},on:{input:function(t){t.target.composing||(e.telephone_2=t.target.value)}}}),e.error.phone2?a("p",{staticClass:"text-red-500 text-sm mt-2"},[e._v("Please enter a valid phone number")]):e._e()]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("Select Gender")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.gender_id,expression:"gender_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.gender_id=t.target.multiple?a:a[0]}}},e._l(e.resources.genders,(function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Date of Birth")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.date_of_birth,expression:"date_of_birth"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"date",placeholder:"",required:""},domProps:{value:e.date_of_birth},on:{input:function(t){t.target.composing||(e.date_of_birth=t.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("State of Origin")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.state_of_origin_id,expression:"state_of_origin_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.state_of_origin_id=t.target.multiple?a:a[0]}}},e._l(e.resources.states,(function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)])]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("State of Residence")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.state_of_residence_id,expression:"state_of_residence_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.state_of_residence_id=t.target.multiple?a:a[0]}}},e._l(e.resources.states,(function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("LGA")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.lga,expression:"lga"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.lga},on:{input:function(t){t.target.composing||(e.lga=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Company Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.company_name,expression:"company_name"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:""},domProps:{value:e.company_name},on:{input:function(t){t.target.composing||(e.company_name=t.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("Choose preferred hospital")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.hospital_id,expression:"hospital_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.hospital_id=t.target.multiple?a:a[0]}}},e._l(e.hospitals,(function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)])]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("Payment Frequency")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.payment_frequency_id,expression:"payment_frequency_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.payment_frequency_id=t.target.multiple?a:a[0]}}},e._l(e.resources.payment_frequency,(function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)])]),a("div",{staticClass:"mt-4"},[e._m(0),a("div",{},[a("div",{staticClass:"lg:w-full mt-4"},[a("label",{staticClass:"py-2 px-4 text-white rounded-full cursor-pointer bg-green-100 text-green-500 font-semibold hover:bg-green-200",attrs:{for:"idImage"}},[e._v("Choose File")]),e.photoFile?a("p",{staticClass:"inline ml-3"},[e._v(e._s(e._f("slicer")(e.photoFile)))]):a("p",{staticClass:"inline ml-3"},[e._v("No file chosen")]),a("input",{ref:"idImage",staticClass:"fileinput hidden",attrs:{id:"idImage",type:"file"},on:{change:e.idUpload}})]),e.error.idImage?a("p",{staticClass:"text-red-500 text-sm mt-2"},[e._v("Please upload a valid image file")]):e._e()])])]),a("button",{staticClass:"block w-full mx-auto bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none",staticStyle:{"max-width":"300px"}},[e._v("Proceed")])])},h=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"text-sm font-bold"},[e._v("Upload Passport "),a("span",{staticClass:"text-red-500"},[e._v("*")])])}],f={data(){return{surname:"",firstname:"",othername:"",email:"",telephone_1:"",telephone_2:"",gender_id:"",date_of_birth:"",state_of_origin_id:"",state_of_residence_id:"",lga:"",company_name:"",hospitals:[],hospital_id:"",payment_frequency_id:"",health_plan_id:"",enrollee_id:"",photoFile:"",idImage:"",error:{idImage:!1,phone1:!1,phone2:!1}}},computed:{...(0,i.aH)({resources:e=>e.health.chiHealthResources,beneficiary:e=>e.beneficiary,plan:e=>e.health.plan,underwriter:e=>e.underwriter_id})},methods:{validate(){if(""==this.idImage)return this.error.idImage=!0;if(Object.values(this.error).includes(!0))return;let e={underwriter_id:this.underwriter,health_plan_id:this.health_plan_id,payment_frequency_id:this.payment_frequency_id,enrollee_id:this.enrollee_id,company_name:this.company_name,surname:this.surname,firstname:this.firstname,othername:this.othername,date_of_birth:this.date_of_birth,gender_id:this.gender_id,state_of_origin_id:this.state_of_origin_id,lga:this.lga,state_of_residence_id:this.state_of_residence_id,telephone_1:this.telephone_1,telephone_2:this.telephone_2,email:this.email,hospital_id:this.hospital_id,passport:this.idImage};this.$emit("submitForm1",e)},getChiHealthResources(){u().get(`${d.A}/health/resources/1`).then((e=>{this.$store.commit("setChiHealthResources",e.data.data)})).catch((e=>{this.$store.dispatch("handleError",e)}))},getHospitals(){u().get(`${d.A}/health/hospitals/${this.plan.id}?sid=${this.state_of_residence_id}`).then((e=>{this.hospitals=e.data.data})).catch((e=>{this.$store.dispatch("handleError",e)}))},idUpload(){this.photoFile=this.$refs.idImage.files[0].name,this.error.idImage=!1;let e=this.$refs.idImage.files[0],t=new FileReader,a=this;t.onload=function(e){a.idImage=e.target.result},t.readAsDataURL(e)}},filters:{slicer(e){return`${e.slice(0,10)} ..`}},watch:{telephone_2(){/^\d{11}$/.test(this.telephone_2)?this.error.phone2=!1:this.error.phone2=!0},telephone_1(){/^\d{11}$/.test(this.telephone_1)?this.error.phone1=!1:this.error.phone1=!0},state_of_residence_id(){this.state_of_residence_id&&this.getHospitals()}},mounted(){0===Object.values(this.resources).length&&this.getChiHealthResources(),this.email=this.beneficiary.email,this.firstname=this.beneficiary.firstname,this.surname=this.beneficiary.lastname,this.telephone_1=this.beneficiary.phone,this.health_plan_id=this.plan.id,this.underwriter_id=this.underwriter,this.enrollee_id=this.beneficiary.user_id}},v=f,_=a(1656),g=(0,_.A)(v,m,h,!1,null,"33fe9b79",null),b=g.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"mt-6",on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[a("div",{staticClass:"grid gap-4 md:grid-cols-2 md:gap-6"},[a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Spouse Surname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.spouse_surname,expression:"spouse_surname"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.spouse_surname},on:{input:function(t){t.target.composing||(e.spouse_surname=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Spouse Firstname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.spouse_firstname,expression:"spouse_firstname"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.spouse_firstname},on:{input:function(t){t.target.composing||(e.spouse_firstname=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Spouse Other name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.spouse_othername,expression:"spouse_othername"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.spouse_othername},on:{input:function(t){t.target.composing||(e.spouse_othername=t.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("Spouse Gender")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.spouse_gender_id,expression:"spouse_gender_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.spouse_gender_id=t.target.multiple?a:a[0]}}},e._l(e.resources.genders,(function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Spouse Date of Birth")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.spouse_date_of_birth,expression:"spouse_date_of_birth"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"date",placeholder:"",required:""},domProps:{value:e.spouse_date_of_birth},on:{input:function(t){t.target.composing||(e.spouse_date_of_birth=t.target.value)}}})])]),a("hr",{staticClass:"mt-4"}),e.childAdded?a("div",e._l(e.children,(function(t,s){return a("div",{key:s,staticClass:"grid relative gap-4 md:grid-cols-2 md:gap-6 mt-6 py-4 border-b"},[a("svg",{staticClass:"cursor-pointer absolute right-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(t){return e.removeChild(s)}}},[a("path",{attrs:{d:"M15.59 7L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41L15.59 7Z",fill:"#FF0000"}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Child Surname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"child.surname"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:t.surname},on:{input:function(a){a.target.composing||e.$set(t,"surname",a.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Child Firstname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstname,expression:"child.firstname"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:t.firstname},on:{input:function(a){a.target.composing||e.$set(t,"firstname",a.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Child Other name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.othername,expression:"child.othername"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:t.othername},on:{input:function(a){a.target.composing||e.$set(t,"othername",a.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("Child Gender")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.gender_id,expression:"child.gender_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"gender_id",a.target.multiple?s:s[0])}}},e._l(e.resources.genders,(function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Child Date of Birth")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date_of_birth,expression:"child.date_of_birth"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"date",placeholder:"",required:""},domProps:{value:t.date_of_birth},on:{input:function(a){a.target.composing||e.$set(t,"date_of_birth",a.target.value)}}})])])})),0):e._e(),a("button",{staticClass:"flex gap-2 mt-4 cursor-pointer items-center",staticStyle:{width:"100px"},attrs:{type:"button"},on:{click:e.addChild}},[a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C21.9939 17.5203 17.5203 21.9939 12 22ZM4 12.172C4.04732 16.5732 7.64111 20.1095 12.0425 20.086C16.444 20.0622 19.9995 16.4875 19.9995 12.086C19.9995 7.68451 16.444 4.10977 12.0425 4.086C7.64111 4.06246 4.04732 7.59876 4 12V12.172ZM13 17H11V13H7V11H11V7H13V11H17V13H13V17Z",fill:"#131b47"}})]),a("p",{staticClass:"text-sm"},[e._v("Add Child")])]),a("button",{staticClass:"block w-full mx-auto bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none",staticStyle:{"max-width":"300px"}},[e._v("Submit")])])},x=[],C={data(){return{spouse_surname:"",spouse_firstname:"",spouse_othername:"",spouse_date_of_birth:"",spouse_gender_id:"",spouse_health_plan_id:"",childAdded:!1,children:[]}},computed:{...(0,i.aH)({resources:e=>e.health.chiHealthResources,plan:e=>e.health.plan})},watch:{children(){this.children.length>0&&(this.childAdded=!0)}},methods:{getChiHealthResources(){u().get(`${d.A}/health/resources/1`).then((e=>{this.$store.commit("setChiHealthResources",e.data.data)})).catch((e=>{this.$store.dispatch("handleError",e)}))},addChild(){if(4===this.children.length)return this.$store.commit("setError",{status:!0,msg:"Can't add more than 4 children"});this.children.push({surname:"",firstname:"",othername:"",date_of_birth:"",gender_id:""})},removeChild(e){this.children.splice(e,1)},validate(){let e={spouse_surname:this.spouse_surname,spouse_firstname:this.spouse_firstname,spouse_othername:this.spouse_othername,spouse_date_of_birth:this.spouse_date_of_birth,spouse_gender_id:this.spouse_gender_id,spouse_health_plan_id:this.spouse_health_plan_id,children:this.children};this.$emit("submitForm2",e)}},mounted(){0===Object.values(this.resources).length&&this.getChiHealthResources(),this.spouse_health_plan_id=this.plan.id}},w=C,k=(0,_.A)(w,y,x,!1,null,"4269a328",null),P=k.exports,$={components:{Form1:b,Form2:P},data(){return{step:1,data:{}}},methods:{saveForm1(e){this.data=e,window.scrollTo(0,10),this.step=2},saveForm2(e){this.data={...this.data,...e},this.$emit("buyPolicy",this.data)}}},S=$,A=(0,_.A)(S,c,p,!1,null,"de262ae4",null),N=A.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"mt-6",on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[a("div",{staticClass:"grid gap-4 md:grid-cols-3 md:gap-6"},[a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Title")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.title=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"Mr"}},[e._v("Mr")]),a("option",{attrs:{value:"Mrs"}},[e._v("Miss")]),a("option",{attrs:{value:"Mrs"}},[e._v("Mrs")])])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Surname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.surname,expression:"surname"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.surname},on:{input:function(t){t.target.composing||(e.surname=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Firstname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.firstname,expression:"firstname"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.firstname},on:{input:function(t){t.target.composing||(e.firstname=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"email",placeholder:"",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Phone")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.telephone_1,expression:"telephone_1"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.telephone_1},on:{input:function(t){t.target.composing||(e.telephone_1=t.target.value)}}}),e.error.phone1?a("p",{staticClass:"text-red-500 text-sm mt-2"},[e._v("Please enter a valid phone number")]):e._e()]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Country")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.country,expression:"country"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:""},domProps:{value:e.country},on:{input:function(t){t.target.composing||(e.country=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:""},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Nationality")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nationality,expression:"nationality"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:""},domProps:{value:e.nationality},on:{input:function(t){t.target.composing||(e.nationality=t.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("Select Gender")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.gender_id,expression:"gender_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.gender_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("Male")]),a("option",{attrs:{value:"2"}},[e._v("Female")])])])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Occupation")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.occupation,expression:"occupation"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:""},domProps:{value:e.occupation},on:{input:function(t){t.target.composing||(e.occupation=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Religion")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.religion,expression:"religion"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:""},domProps:{value:e.religion},on:{input:function(t){t.target.composing||(e.religion=t.target.value)}}})]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Blood Group")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.blood_group,expression:"blood_group"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.blood_group=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"A"}},[e._v("A")]),a("option",{attrs:{value:"B"}},[e._v("B")]),a("option",{attrs:{value:"AB"}},[e._v("AB")]),a("option",{attrs:{value:"O"}},[e._v("O")])])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Genotype")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.genotype,expression:"genotype"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.genotype=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"AA"}},[e._v("AA")]),a("option",{attrs:{value:"AC"}},[e._v("AC")]),a("option",{attrs:{value:"AS"}},[e._v("AS")]),a("option",{attrs:{value:"CC"}},[e._v("CC")]),a("option",{attrs:{value:"SC"}},[e._v("SC")]),a("option",{attrs:{value:"SS"}},[e._v("SS")])])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Marital Status")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.marital_status,expression:"marital_status"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.marital_status=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"Single"}},[e._v("Single")]),a("option",{attrs:{value:"Married"}},[e._v("Married")]),a("option",{attrs:{value:"Divorced"}},[e._v("Divorced")])])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Date of Birth")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.date_of_birth,expression:"date_of_birth"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"date",id:"dob",placeholder:"",required:""},domProps:{value:e.date_of_birth},on:{input:function(t){t.target.composing||(e.date_of_birth=t.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("State of Origin")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.state_of_origin_id,expression:"state_of_origin_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.state_of_origin_id=t.target.multiple?a:a[0]}}},e._l(e.states,(function(t,s){return a("option",{key:s,domProps:{value:t.StateID}},[e._v(e._s(t.Name))])})),0)])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("LGA of Origin")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.lga_origin_id,expression:"lga_origin_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.lga_origin_id=t.target.multiple?a:a[0]}}},e._l(e.lgaOrigin,(function(t,s){return a("option",{key:s,domProps:{value:t.LgaID}},[e._v(e._s(t.Name))])})),0)]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("State of Residence")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.state_of_residence_id,expression:"state_of_residence_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.state_of_residence_id=t.target.multiple?a:a[0]}}},e._l(e.states,(function(t,s){return a("option",{key:s,domProps:{value:t.StateID}},[e._v(e._s(t.Name))])})),0)])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("LGA of Residence")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.lga_id,expression:"lga_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.lga_id=t.target.multiple?a:a[0]}}},e._l(e.lgas,(function(t,s){return a("option",{key:s,domProps:{value:t.LgaID}},[e._v(e._s(t.Name))])})),0)])]),a("div",{},[a("label",{staticClass:"text-sm font-bold"},[e._v("Company Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.company_name,expression:"company_name"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:""},domProps:{value:e.company_name},on:{input:function(t){t.target.composing||(e.company_name=t.target.value)}}})]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("Choose preferred hospital")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.hospital_id,expression:"hospital_id"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.hospital_id=t.target.multiple?a:a[0]}}},e._l(e.hospitals,(function(t,s){return a("option",{key:s,domProps:{value:t.ID}},[e._v(e._s(t.HospitalName))])})),0)])]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("Pre-Exisiting Medical History")]),a("div",{staticClass:"relative"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.preexistingmedicalhistory,expression:"preexistingmedicalhistory"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{type:"text",placeholder:""},domProps:{value:e.preexistingmedicalhistory},on:{input:function(t){t.target.composing||(e.preexistingmedicalhistory=t.target.value)}}})])]),a("div",{staticClass:"lg:w-full lg:mr-3"},[a("label",{staticClass:"text-sm font-bold"},[e._v("Payment Frequency")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.payment_frequency,expression:"payment_frequency"}],staticClass:"rounded block mt-4 bg-blue-100 px-4 py-2 w-full outline-none focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.payment_frequency=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("1 Month")]),a("option",{attrs:{value:"2"}},[e._v("2 Months")]),a("option",{attrs:{value:"3"}},[e._v("3 Months")]),a("option",{attrs:{value:"4"}},[e._v("4 Months")]),a("option",{attrs:{value:"5"}},[e._v("5 Months")]),a("option",{attrs:{value:"6"}},[e._v("6 Months")]),a("option",{attrs:{value:"7"}},[e._v("7 Months")]),a("option",{attrs:{value:"8"}},[e._v("8 Months")]),a("option",{attrs:{value:"9"}},[e._v("9 Months")]),a("option",{attrs:{value:"10"}},[e._v("10 Months")]),a("option",{attrs:{value:"11"}},[e._v("11 Months")]),a("option",{attrs:{value:"12"}},[e._v("12 Months")])])])]),a("div",{staticClass:"mt-4"},[e._m(0),a("div",{},[a("div",{staticClass:"lg:w-full mt-4"},[a("label",{staticClass:"py-2 px-4 text-white rounded-full cursor-pointer bg-green-100 text-green-500 font-semibold hover:bg-green-200",attrs:{for:"idImage"}},[e._v("Choose File")]),e.photoFile?a("p",{staticClass:"inline ml-3"},[e._v(e._s(e._f("slicer")(e.photoFile)))]):a("p",{staticClass:"inline ml-3"},[e._v("No file chosen")]),a("input",{ref:"idImage",staticClass:"fileinput hidden",attrs:{id:"idImage",type:"file"},on:{change:e.idUpload}})]),e.error.idImage?a("p",{staticClass:"text-red-500 text-sm mt-2"},[e._v("Please upload a valid image file")]):e._e()])]),"1"==e.payment_frequency?a("div",{staticClass:"lg:w-full lg:mr-3"},[a("p",{staticClass:"text-sm font-bold pb-3 "},[e._v(" Auto Renewal ")]),a("label",{staticClass:"toggle-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.auto_renewal,expression:"auto_renewal"}],staticClass:"toggle-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.auto_renewal)?e._i(e.auto_renewal,null)>-1:e.auto_renewal},on:{change:function(t){var a=e.auto_renewal,s=t.target,o=!!s.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);s.checked?n<0&&(e.auto_renewal=a.concat([i])):n>-1&&(e.auto_renewal=a.slice(0,n).concat(a.slice(n+1)))}else e.auto_renewal=o}}}),a("span",{staticClass:"toggle-slider"})])]):e._e()]),a("button",{staticClass:"block w-full mx-auto bg-green-500 mt-12 text-white px-12 py-2 rounded focus:outline-none",staticStyle:{"max-width":"300px"}},[e._v("Submit")])])},M=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"text-sm font-bold"},[e._v("Upload Passport "),a("span",{staticClass:"text-red-500"},[e._v("*")])])}],I={data(){return{surname:"",firstname:"",othername:"",email:"",telephone_1:"",gender_id:"",date_of_birth:"",state_of_origin_id:"",state_of_residence_id:"",residential_address:"",marital_status:"",lga_of_origin:"",lga_of_residence:"",lgas:[],lgaOrigin:[],lga_id:"",lga_origin_id:"",nationality:"",address:"",state:"",title:"",country:"",company_name:"",genotype:"",blood_group:"",hospitals:[],hospital_id:"",payment_frequency_id:"",payment_frequency:"",occupation:"",religion:"",health_plan_id:"",health_plan:"",enrollee_id:"",photoFile:"",auto_renewal:!1,preexistingmedicalhistory:"",idImage:"",error:{idImage:!1,phone1:!1,phone2:!1},states:[]}},computed:{...(0,i.aH)({resources:e=>e.health.chiHealthResources,beneficiary:e=>e.beneficiary,plan:e=>e.health.plan,underwriter:e=>e.underwriter_id})},methods:{validate(){let e=this.date_of_birth.split("-"),t=`${e[2]}/${e[1]}/${e[0]}`;if(""==this.idImage)return this.error.idImage=!0;if(Object.values(this.error).includes(!0))return;let a={title:this.title,enrollee_id:this.beneficiary.user_id,user_id:this.beneficiary.user_id,underwriter_id:this.underwriter,passport:this.idImage,country:this.country,plan_id:this.health_plan_id.toString(),email:this.email,phone:this.telephone_1,dob:t,gender:parseInt(this.gender_id),marital_status:this.marital_status,occupation:this.occupation,religion:this.religion,blood_group:this.blood_group,genotype:this.genotype,company:this.company_name,nationality:this.nationality,state_of_origin:this.state_of_origin_id,lga_of_origin:this.lga_origin_id,payment_frequency:parseInt(this.payment_frequency),state_of_residence:this.state_of_residence_id,lga_of_residence:this.lga_id,address:this.address,medical_history:this.preexistingmedicalhistory,hospital_id:this.hospital_id.toString()};this.$emit("buyPolicy",a)},getExternalRef(e){let t="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=a.length;let o=0;while(o<e)t+=a.charAt(Math.floor(Math.random()*s)),o+=1;return t},getChiHMOStates(){u().get(`${d.A}/hmo/states`).then((e=>{console.log(e.data.data),this.states=e.data.data})).catch((e=>{this.$store.dispatch("handleError",e)}))},getHospital(e,t,a){console.log(this.date_of_birth),u()({url:`${d.A}/hmo/hospitals`,data:{PlanID:e,StateId:t,LgaId:a},method:"POST"}).then((e=>{console.log(e.data.data),console.log(e.data.data.hospitals),this.hospitals=e.data.data.hospitals,this.payment_frequency=e.data.data.payment_frequency})).catch((e=>{console.log(e),this.$store.dispatch("handleError",e)}))},getLga(e){console.log(e),u()({url:`${d.A}/hmo/lga`,data:{state_id:e},method:"POST"}).then((e=>{this.lgas=e.data.data})).catch((e=>{console.log(e),this.$store.dispatch("handleError",e)}))},getLgaOrigin(e){console.log(e),u()({url:`${d.A}/hmo/lga`,data:{state_id:e},method:"POST"}).then((e=>{this.lgaOrigin=e.data.data})).catch((e=>{console.log(e),this.$store.dispatch("handleError",e)}))},idUpload(){this.photoFile=this.$refs.idImage.files[0].name,this.error.idImage=!1;let e=this.$refs.idImage.files[0],t=new FileReader,a=this;t.onload=function(e){a.idImage=e.target.result},t.readAsDataURL(e)}},filters:{slicer(e){return`${e.slice(0,10)} ..`}},watch:{telephone_2(){/^\d{11}$/.test(this.telephone_2)?this.error.phone2=!1:this.error.phone2=!0},telephone_1(){/^\d{11}$/.test(this.telephone_1)?this.error.phone1=!1:this.error.phone1=!0},state_of_residence_id(){this.state_of_residence_id&&this.getLga(this.state_of_residence_id.toString())},state_of_origin_id(){this.state_of_origin_id&&this.getLgaOrigin(this.state_of_origin_id.toString())},lga_id(){this.lga_id&&this.getHospital(this.health_plan.toString(),this.state_of_residence_id.toString(),this.lga_id.toString())}},mounted(){this.getChiHMOStates(),this.email=this.beneficiary.email,this.firstname=this.beneficiary.firstname,this.surname=this.beneficiary.lastname,this.telephone_1=this.beneficiary.phone,this.address=this.beneficiary.address,this.health_plan_id=this.plan.ID,this.health_plan=this.plan.PlanId,this.underwriter_id=this.underwriter,this.enrollee_id=this.beneficiary.user_id;var e=new Date,t=e.getDate(),a=e.getMonth()+1,s=e.getFullYear();t<10&&(t="0"+t),a<10&&(a="0"+a),e=s+"-"+a+"-"+t;var o=document.getElementById("dob");o.setAttribute("max",e)}},O=I,D=(0,_.A)(O,q,M,!1,null,"033cc338",null),F=D.exports,E=a(9401),L=a.n(E),R=a(968),H=a(6427),j={components:{Individual:F,Family:N,Paystack:L(),PaymentMethod:R.A,ReviewModal:H.A},data(){return{health_id:"",paystackData:{public_key:"",email:"",amount:0,reference:"",subaccount:"",transactionCharge:0},showPaystack:!1,showMethodModal:!1,showReviewModal:!1,managehealth:"managehealth"}},computed:{...(0,i.aH)({plan:e=>e.health.plan,user:e=>e.user,reviewmodal:e=>e.reviewmodal})},methods:{closeReview(){this.showReviewModal=!1,this.$router.push("/app/dashboard/managehealth")},buyIndividual(e){this.$store.commit("startLoading"),u()({url:`${d.A}/health/policy/individual`,data:e,method:"POST"}).then((e=>{this.health_id=e.data.data.user_health_id,this.$store.commit("setUserHealthId",this.health_id),this.$store.commit("endLoading"),this.initiatePayment()})).catch((e=>{this.$store.dispatch("handleError",e)}))},buyHMO(e){this.$store.commit("startLoading"),u()({url:`${d.A}/hmo/policy/create`,data:e,method:"POST"}).then((e=>{console.log(e.data.data),this.health_id=e.data.data.user_hmo_id,this.$store.commit("setUserHealthId",this.health_id),this.$store.commit("endLoading"),this.initiatePayment()})).catch((e=>{this.$store.dispatch("handleError",e)}))},buyFamily(e){this.$store.commit("startLoading"),u()({url:`${d.A}/health/policy/family`,data:e,method:"POST"}).then((e=>{this.health_id=e.data.data.user_health_id,this.$store.commit("setUserHealthId",this.health_id),this.$store.commit("endLoading"),this.initiatePayment()})).catch((e=>{this.$store.dispatch("handleError",e)}))},initiatePayment(){if(!this.user.has_card)return this.payNow();this.showMethodModal=!0},payNow(){this.$store.commit("startLoading");let e={user_hmo_id:this.health_id,card_id:0};u()({url:`${d.A}/hmo/payment/init`,data:e,method:"POST"}).then((e=>{this.showPaystack=!0,console.log(e.data.data),this.paystackData.public_key=e.data.data.public_key,this.paystackData.email=e.data.data.email,this.paystackData.amount=e.data.data.amount,this.paystackData.reference=e.data.data.reference,this.paystackData.subaccount=e.data.data.subaccount,this.paystackData.transactionCharge=e.data.data.flatfee,console.log(this.paystackData),this.$refs.paystackbutton.payWithPaystack(this.paystackData)})).catch((e=>{this.$store.dispatch("handleError",e)}))},verifyPayment(){u()({url:`${d.A}/hmo/payment/verify`,data:{reference:this.paystackData.reference},method:"POST"}).then((e=>{this.$store.commit("endLoading"),this.$store.commit("setSuccess",{status:!0,msg:e.data.message}),this.showReviewModal=!0})).catch((e=>{this.$store.commit("endLoading"),this.$store.commit("setError",{status:!0,msg:e.response.data.message})}))},closePayment(){this.$store.commit("endLoading"),this.$store.commit("setError",{status:!0,msg:"Payment cancelled"})},payWithCard(e){this.showMethodModal=!1,"old"===e?this.$router.push("/app/dashboard/buyhealth/4"):"new"===e&&this.payNow()}}},B=j,T=(0,_.A)(B,n,r,!1,null,null,null),U=T.exports,V={components:{ChiForm:U},computed:{...(0,i.aH)({underwriterId:e=>e.underwriter_id})}},G=V,W=(0,_.A)(G,s,o,!1,null,null,null),Z=W.exports},9401:function(e){!function(t,a){e.exports=a()}(window,(function(){return a={},e.m=t=[function(e,t,a){"use strict";a.r(t);var s,o,i,n,r,l,u,d,c,p,m;n=!(i=[]),u=l=r=null,m="function"==typeof(s={props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,required:!0},email:{type:String,required:!0},firstname:{type:String,default:""},lastname:{type:String,default:""},amount:{type:Number,required:!0},reference:{type:String,required:!0},channels:{type:Array,default:function(){return["card","bank"]}},accessCode:{type:String,default:""},callback:{type:Function,required:!0,default:function(){}},close:{type:Function,required:!0,default:function(){}},metadata:{type:Object,default:function(){return{}}},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:String,default:""},subaccount:{type:String,default:""},split:{type:Object,default:function(){return{}}},splitCode:{type:String,default:""},transactionCharge:{type:Number,default:0},bearer:{type:String,default:""}},data:function(){return{scriptLoaded:null}},created:function(){var e=this;this.scriptLoaded=new Promise((function(t){e.loadScript((function(){t()}))}))},mounted:function(){this.embed&&this.payWithPaystack()},methods:{loadScript:function(e){var t=document.createElement("script");t.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(t),t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,e())}:t.onload=function(){e()}},isDynamicSplit:function(){return this.split.constructor===Object&&0<Object.keys(this.split).length},payWithPaystack:function(){var e=this;this.scriptLoaded&&this.scriptLoaded.then((function(){var t={key:e.paystackkey,email:e.email,firstname:e.firstname,lastname:e.lastname,channels:e.channels,amount:e.amount,access_code:e.accessCode,ref:e.reference,callback:function(t){e.callback(t)},onClose:function(){e.close()},metadata:e.metadata,currency:e.currency,plan:e.plan,quantity:e.quantity,subaccount:e.isDynamicSplit()?"":e.subaccount,split:e.isDynamicSplit()?e.split:null,split_code:e.isDynamicSplit()?"":e.splitCode,transaction_charge:e.isDynamicSplit()?0:e.transactionCharge,bearer:e.isDynamicSplit()?"":e.bearer};e.embed&&(t.container="paystackEmbedContainer"),t=window.PaystackPop.setup(t),e.embed||t.openIframe()}))}}})?s.options:s,(o=function(){var e=this,t=e._self._c||e.$createElement;return e.embed?t("div",{attrs:{id:"paystackEmbedContainer"}}):t("button",{staticClass:"payButton",on:{click:e.payWithPaystack}},[e._t("default",[e._v("Make Payment")])],2)})&&(m.render=o,m.staticRenderFns=i,m._compiled=!0),n&&(m.functional=!0),l&&(m._scopeId="data-v-"+l),u?m._ssrRegister=c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(u)}:r&&(c=d?function(){r.call(this,(m.functional?this.parent:this).$root.$options.shadowRoot)}:r),c&&(m.functional?(m._injectStyles=c,p=m.render,m.render=function(e,t){return c.call(t),p(e,t)}):m.beforeCreate=(d=m.beforeCreate)?[].concat(d,c):[c]),a={exports:s,options:m};t.default=a.exports}],e.c=a,e.d=function(t,a,s){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:s})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var o in t)e.d(s,o,function(e){return t[e]}.bind(null,o));return s},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="/dist/",e(e.s=0);function e(s){if(a[s])return a[s].exports;var o=a[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t,a}))},7267:function(e,t,a){"use strict";e.exports=a.p+"img/ratingimage.1c8c5fbc.svg"}}]);
//# sourceMappingURL=1134.dd514f0b.js.map