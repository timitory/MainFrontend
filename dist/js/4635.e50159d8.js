"use strict";(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[4635],{4635:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mt-8 px-6 pt-6 lg:px-20 pb-20 relative shadow-lg bg-white",staticStyle:{"box-shadow":"0px 20px 33px #00000029"}},[a("router-link",{staticClass:"absolute left-4 top-2",attrs:{to:"/app/dashboard"}},[a("font-awesome-icon",{staticClass:"text-green-600 ",attrs:{icon:"times-circle"}})],1),a("div",{staticClass:"flex justify-between"},[a("div"),a("div",{staticClass:"text-sm relative border border-solid"},[a("button",{staticClass:"py-2 px-2",on:{click:function(e){t.showFilter=!t.showFilter}}},[t._v("Filter by "),a("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"angle-down"}})],1),t.showFilter?a("div",{staticClass:"filter absolute left-0 bg-white"},[a("p",{staticClass:"mb-2 cursor-pointer text-sm",on:{click:function(e){return t.filter("Health Policy")}}},[t._v("Health")]),a("p",{staticClass:"mb-2 cursor-pointer text-sm",on:{click:function(e){return t.filter("Vehicle Policy")}}},[t._v("Vehicle")]),a("p",{staticClass:"mb-2 cursor-pointer text-sm",on:{click:function(e){return t.filter("Home Content Policy")}}},[t._v("Home-content")]),a("p",{staticClass:"mb-2 cursor-pointer text-sm",on:{click:function(e){return t.filter("Gadget Policy")}}},[t._v("Gadget")])]):t._e()])]),t._m(0),a("div",{staticClass:"overflow-x-auto xl:overflow-x-hidden tablecont"},[t.filteredPayments.length>0?a("table",{staticClass:"w-full mt-8"},[t._m(1),a("tbody",t._l(t.filteredPayments,(function(e,s){return a("tr",{key:s,staticClass:"border border-solid border-gray-300"},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.policy))]),a("td",[t._v(t._s(e.date_time))]),a("td",{staticClass:"font-semibold"},[t._v(t._s(e.amount))]),a("td",[t._v(t._s(e.enrollee.firstname)+" "+t._s(e.enrollee.lastname))]),"Home Content Policy"==e.policy&&""==e.description?a("td",[t._v("Payment for Home Content Policy")]):a("td",[t._v(t._s(e.description))]),a("td",[t._v(t._s(e.reference))]),"Success"==e.status?a("td",{staticClass:"text-green-500"},[t._v(t._s(e.status))]):"Failed"==e.status?a("td",{staticClass:"text-red-500"},[t._v(t._s(e.status))]):a("td",{staticClass:"text-blue-500"},[t._v(t._s(e.status))])])})),0)]):a("div",{staticClass:"w-full text-center py-4"},[a("img",{staticClass:"block  mx-auto",attrs:{src:s(9190),alt:""}}),a("p",{staticClass:"mt-4 text-center font-bold text-green-500 font-lg"},[t._v("No records")])]),t.filteredPayments.length>0?a("nav",{staticClass:"mt-8",attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"w-1/2 mx-auto  flex justify-between",staticStyle:{"max-width":"250px"}},[a("li",{staticClass:"page-item"},[1!=t.page?a("button",{staticClass:"inline text-green-500",attrs:{type:"button"},on:{click:function(e){t.page--}}},[t._v(" Previous ")]):a("button",{staticClass:"inline text-green-500 opacity-20"},[t._v("Previous")])]),a("li",{staticClass:"page-item"},[t.page<t.pages.length?a("button",{staticClass:"inline text-green-500",attrs:{type:"button"},on:{click:function(e){t.page++}}},[t._v(" Next ")]):a("button",{staticClass:"inline text-green-500 opacity-20"},[t._v("Next")])])])]):t._e()])],1)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex mt-4 items-center"},[s("p",{staticClass:"text-lg lg:w-1/4 font-bold"},[t._v("Transaction History")]),s("div",{staticClass:"ml-3 w-full lg:flex justify-between items-center"},[s("div",{staticClass:" lg:w-full"},[s("hr",{staticClass:"mt-2"}),s("hr",{staticClass:"mt-2"}),s("hr",{staticClass:"mt-2 border-green-500 bg-green-500 border-2"})])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"font-bold"},[t._v("S/N")]),s("th",{staticClass:"font-bold"},[t._v("Policy")]),s("th",{staticClass:"font-bold"},[t._v("Date")]),s("th",{staticClass:"font-bold"},[t._v("Amount")]),s("th",{staticClass:"font-bold"},[t._v("Enrollee")]),s("th",{staticClass:"font-bold"},[t._v("Description")]),s("th",{staticClass:"font-bold"},[t._v("Reference")]),s("th",{staticClass:"font-bold"},[t._v("Status")])])])}],l=(s(4114),s(2505)),n=s.n(l),o=s(3717),r={data(){return{payments:[],val:"",showFilter:!1,page:1,perPage:10,pages:[]}},computed:{filteredPayments(){return this.paginate(this.payments.filter((t=>t.policy.includes(this.val))))}},watch:{payments(){this.setPages()}},methods:{filter(t){this.val=t,this.page=1,this.showFilter=!1},setPages(){let t=Math.ceil(this.payments.length/this.perPage);for(let e=1;e<=t;e++)this.pages.push(e)},paginate(t){let e=this.page,s=this.perPage,a=e*s-s,i=e*s;return t.slice(a,i)}},mounted(){this.$store.commit("startLoading"),n().get(`${o.A}/transaction/history`).then((t=>{this.payments=t.data.data.transactions,this.$store.commit("endLoading")})).catch((t=>{this.$store.commit("endLoading"),this.$store.dispatch("handleError",t)}))}},c=r,d=s(1656),u=(0,d.A)(c,a,i,!1,null,"09512cb9",null),f=u.exports},9190:function(t,e,s){t.exports=s.p+"img/Page-1.75b8f912.svg"}}]);
//# sourceMappingURL=4635.e50159d8.js.map